{"version":3,"file":"index.js","sources":["../../src/application/internal/state-app/ApplicationState.js","../../src/application/internal/state-svelte/GetSvelteData.js","../../src/application/internal/state-reactive/SvelteReactive.js","../../src/application/internal/util/applicationShellContract.js","../../src/application/internal/util/isApplicationShell.js","../../src/application/internal/util/loadSvelteConfig.js","../../src/application/internal/TJSAppIndex.js","../../src/application/external/FoundryHMRSupport.js","../../src/application/SvelteApplication.js","../../src/application/external/PopoutSupport.js","../../src/application/internal/state-dialog/TJSDialogData.js","../../src/application/TJSDialog.js","../../src/application/index.js"],"sourcesContent":["import { isObject }  from '#runtime/util/object';\r\n\r\n/**\r\n * Provides the ability the save / restore / serialize application state for positional and UI state such as minimized\r\n * status.\r\n *\r\n * You can restore a saved state with animation; please see the options of {@link ApplicationState.restore}.\r\n */\r\nexport class ApplicationState\r\n{\r\n   /** @type {object} */\r\n   #application;\r\n\r\n   /**\r\n    * Stores the current save state key being restored by animating. When a restore is already being animated with the\r\n    * same name the subsequent restore animation is ignored.\r\n    *\r\n    * @type {string | undefined}\r\n    */\r\n   #currentRestoreKey;\r\n\r\n   /** @type {Map<string, import('./types').ApplicationStateData>} */\r\n   #dataSaved = new Map();\r\n\r\n   /**\r\n    * @param {object}   application - The application.\r\n    */\r\n   constructor(application)\r\n   {\r\n      this.#application = application;\r\n\r\n      Object.seal(this);\r\n   }\r\n\r\n   /**\r\n    * Clears all saved application state.\r\n    */\r\n   clear()\r\n   {\r\n      this.#dataSaved.clear();\r\n   }\r\n\r\n   /**\r\n    * Returns current application state along with any extra data passed into method.\r\n    *\r\n    * @param {object} [extra] - Extra data to add to application state.\r\n    *\r\n    * @returns {import('./types').ApplicationStateData} Passed in object with current application state.\r\n    */\r\n   current(extra = {})\r\n   {\r\n      return Object.assign(extra, {\r\n         position: this.#application?.position?.get(),\r\n         beforeMinimized: this.#application?.position?.state.get({ name: '#beforeMinimized' }),\r\n         options: this.#application?.reactive?.toJSON(),\r\n         ui: { minimized: this.#application?.reactive?.minimized }\r\n      });\r\n   }\r\n\r\n   /**\r\n    * Gets any saved application state by name.\r\n    *\r\n    * @param {object}   options - Options.\r\n    *\r\n    * @param {string}   options.name - Saved data set name.\r\n    *\r\n    * @returns {import('./types').ApplicationStateData | undefined} Any saved application state.\r\n    */\r\n   get({ name })\r\n   {\r\n      if (typeof name !== 'string')\r\n      {\r\n         throw new TypeError(`ApplicationState - get error: 'name' is not a string.`);\r\n      }\r\n\r\n      return this.#dataSaved.get(name);\r\n   }\r\n\r\n   /**\r\n    * @returns {IterableIterator<string>} The saved application state names / keys.\r\n    */\r\n   keys()\r\n   {\r\n      return this.#dataSaved.keys();\r\n   }\r\n\r\n   /**\r\n    * Removes and returns any saved application state by name.\r\n    *\r\n    * @param {object}   options - Options.\r\n    *\r\n    * @param {string}   options.name - Name to remove and retrieve.\r\n    *\r\n    * @returns {import('./types').ApplicationStateData | undefined} Any saved application state.\r\n    */\r\n   remove({ name })\r\n   {\r\n      if (typeof name !== 'string') { throw new TypeError(`ApplicationState - remove: 'name' is not a string.`); }\r\n\r\n      const data = this.#dataSaved.get(name);\r\n      this.#dataSaved.delete(name);\r\n\r\n      return data;\r\n   }\r\n\r\n   /**\r\n    * Restores a previously saved application state by `name` returning the data. Several optional parameters are\r\n    * available to animate / tween to the new state. When `animateTo` is true an animation is scheduled via\r\n    * {@link #runtime/svelte/store/position!AnimationAPI.to} and the duration and easing name or function may be\r\n    * specified.\r\n    *\r\n    * @param {object}            options - Options.\r\n    *\r\n    * @param {string}            options.name - Saved data set name.\r\n    *\r\n    * @param {boolean}           [options.remove=false] - Remove data set.\r\n    *\r\n    * @param {boolean}           [options.animateTo=false] - Animate to restore data.\r\n    *\r\n    * @param {number}            [options.duration=0.1] - Duration in seconds.\r\n    *\r\n    * @param {import('#runtime/svelte/easing').EasingReference} [options.ease='linear'] - Easing function or easing\r\n    *        function name.\r\n    *\r\n    * @returns {import('./types').ApplicationStateData | undefined} Any saved application state.\r\n    */\r\n   restore({ name, remove = false, animateTo = false, duration = 0.1, ease = 'linear' })\r\n   {\r\n      if (typeof name !== 'string')\r\n      {\r\n         throw new TypeError(`ApplicationState - restore error: 'name' is not a string.`);\r\n      }\r\n\r\n      const dataSaved = this.#dataSaved.get(name);\r\n\r\n      if (dataSaved)\r\n      {\r\n         if (remove) { this.#dataSaved.delete(name); }\r\n\r\n         // Multiple invocations for animated restores are skipped when one is already in progress.\r\n         if (animateTo && name !== this.#currentRestoreKey)\r\n         {\r\n            // Track current restore key name.\r\n            this.#currentRestoreKey = name;\r\n\r\n            this.#setImpl(dataSaved, {\r\n               animateTo,\r\n               async: true,\r\n               duration,\r\n               ease\r\n            }).then(() =>\r\n            {\r\n               // Reset current restore key name for animation if the same as initial animation initiation.\r\n               if (name === this.#currentRestoreKey) { this.#currentRestoreKey = void 0; }\r\n            });\r\n         }\r\n      }\r\n\r\n      return dataSaved;\r\n   }\r\n\r\n   /**\r\n    * Saves current application state with the opportunity to add extra data to the saved state.\r\n    *\r\n    * @param {object}   options - Options.\r\n    *\r\n    * @param {string}   options.name - Name to index this saved state.\r\n    *\r\n    * @returns {import('./types').ApplicationStateData} Current saved application state.\r\n    */\r\n   save({ name, ...extra })\r\n   {\r\n      if (typeof name !== 'string') { throw new TypeError(`ApplicationState - save error: 'name' is not a string.`); }\r\n\r\n      const data = this.current(extra);\r\n\r\n      this.#dataSaved.set(name, data);\r\n\r\n      return data;\r\n   }\r\n\r\n   /**\r\n    * Sets application state from the given {@link ApplicationStateData} instance. Several optional parameters are\r\n    * available to animate / tween to the new state. When `animateTo` is true an animation is scheduled via\r\n    * {@link #runtime/svelte/store/position!AnimationAPI.to} and the duration and easing name or function may be\r\n    * specified.\r\n    *\r\n    * Note: If serializing application state any minimized apps will use the before minimized state on initial render\r\n    * of the app as it is currently not possible to render apps with Foundry VTT core API in the minimized state.\r\n    *\r\n    * @param {import('./types').ApplicationStateData}   data - Saved data set name.\r\n    *\r\n    * @param {object}         [options] - Optional parameters\r\n    *\r\n    * @param {boolean}        [options.animateTo=false] - Animate to restore data.\r\n    *\r\n    * @param {number}         [options.duration=0.1] - Duration in seconds.\r\n    *\r\n    * @param {import('#runtime/svelte/easing').EasingReference} [options.ease='linear'] - Easing function or easing\r\n    *        function name.\r\n    */\r\n   set(data, options = {})\r\n   {\r\n      this.#setImpl(data, { ...options, async: false });\r\n   }\r\n\r\n   // Internal implementation ----------------------------------------------------------------------------------------\r\n\r\n   /**\r\n    * Sets application state from the given {@link ApplicationStateData} instance. Several optional parameters are\r\n    * available to animate / tween to the new state. When `animateTo` is true an animation is scheduled via\r\n    * {@link #runtime/svelte/store/position!AnimationAPI.to} and the duration and easing name or function may be\r\n    * specified.\r\n    *\r\n    * Note: If serializing application state any minimized apps will use the before minimized state on initial render\r\n    * of the app as it is currently not possible to render apps with Foundry VTT core API in the minimized state.\r\n    *\r\n    * @privateRemarks\r\n    * TODO: THIS METHOD NEEDS TO BE REFACTORED WHEN TRL IS MADE INTO A STANDALONE FRAMEWORK.\r\n    *\r\n    * @param {import('./types').ApplicationStateData}   data - Saved data set name.\r\n    *\r\n    * @param {object}            [opts] - Optional parameters\r\n    *\r\n    * @param {boolean}           [opts.async=false] - If animating return a Promise that resolves with any saved data.\r\n    *\r\n    * @param {boolean}           [opts.animateTo=false] - Animate to restore data.\r\n    *\r\n    * @param {number}            [opts.duration=0.1] - Duration in seconds.\r\n    *\r\n    * @param {import('#runtime/svelte/easing').EasingReference} [opts.ease='linear'] - Easing function or easing\r\n    *        function name.\r\n    *\r\n    * @returns {undefined | Promise<void>} When asynchronous the animation Promise.\r\n    */\r\n   #setImpl(data, { async = false, animateTo = false, duration = 0.1, ease = 'linear' } = {})\r\n   {\r\n      if (!isObject(data))\r\n      {\r\n         throw new TypeError(`ApplicationState - restore error: 'data' is not an object.`);\r\n      }\r\n\r\n      const application = this.#application;\r\n\r\n      if (!isObject(data?.position))\r\n      {\r\n         console.warn(`ApplicationState.set warning: 'data.position' is not an object.`);\r\n         return;\r\n      }\r\n\r\n      // TODO: TAKE NOTE THAT WE ARE ACCESSING A FOUNDRY APP v1 GETTER HERE TO DETERMINE IF APPLICATION IS RENDERED.\r\n      // TODO: THIS NEEDS TO BE REFACTORED WHEN CONVERTING TRL TO A GENERIC FRAMEWORK.\r\n      const rendered = application.rendered;\r\n\r\n      // Update data directly with no store or inline style updates.\r\n      if (animateTo)  // Animate to saved data.\r\n      {\r\n         if (!rendered)\r\n         {\r\n            console.warn(`ApplicationState.set warning: Application is not rendered and 'animateTo' is true.`);\r\n            return;\r\n         }\r\n\r\n         // Provide special handling to potentially change transform origin as this parameter is not animated.\r\n         if (data.position.transformOrigin !== application.position.transformOrigin)\r\n         {\r\n            application.position.transformOrigin = data.position.transformOrigin;\r\n         }\r\n\r\n         if (isObject(data?.ui))\r\n         {\r\n            const minimized = typeof data.ui?.minimized === 'boolean' ? data.ui.minimized : false;\r\n\r\n            if (application?.reactive?.minimized && !minimized)\r\n            {\r\n               application.maximize({ animate: false, duration: 0 });\r\n            }\r\n         }\r\n\r\n         const promise = application.position.animate.to(data.position, {\r\n            duration,\r\n            ease,\r\n            strategy: 'cancelAll'\r\n         }).finished.then(({ cancelled }) =>\r\n         {\r\n            if (cancelled) { return; }\r\n\r\n            // Merge in saved options to application.\r\n            if (isObject(data?.options))\r\n            {\r\n               application?.reactive.mergeOptions(data.options);\r\n            }\r\n\r\n            if (isObject(data?.ui))\r\n            {\r\n               const minimized = typeof data.ui?.minimized === 'boolean' ? data.ui.minimized : false;\r\n\r\n               // Application is currently minimized and stored state is not, so reset minimized state without\r\n               // animation.\r\n               if (!application?.reactive?.minimized && minimized)\r\n               {\r\n                  application.minimize({ animate: false, duration: 0 });\r\n               }\r\n            }\r\n\r\n            if (isObject(data?.beforeMinimized))\r\n            {\r\n               application.position.state.set({ name: '#beforeMinimized', ...data.beforeMinimized });\r\n            }\r\n         });\r\n\r\n         // Return a Promise with the application that resolves after animation ends.\r\n         if (async) { return promise; }\r\n      }\r\n      else\r\n      {\r\n         if (rendered)\r\n         {\r\n            // Merge in saved options to application.\r\n            if (isObject(data?.options))\r\n            {\r\n               application?.reactive.mergeOptions(data.options);\r\n            }\r\n\r\n            if (isObject(data?.ui))\r\n            {\r\n               const minimized = typeof data.ui?.minimized === 'boolean' ? data.ui.minimized : false;\r\n\r\n               // Application is currently minimized and stored state is not, so reset minimized state without\r\n               // animation.\r\n               if (application?.reactive?.minimized && !minimized)\r\n               {\r\n                  application.maximize({ animate: false, duration: 0 });\r\n               }\r\n               else if (!application?.reactive?.minimized && minimized)\r\n               {\r\n                  application.minimize({ animate: false, duration });\r\n               }\r\n            }\r\n\r\n            if (isObject(data?.beforeMinimized))\r\n            {\r\n               application.position.state.set({ name: '#beforeMinimized', ...data.beforeMinimized });\r\n            }\r\n\r\n            // Default options is to set data for an immediate update.\r\n            application.position.set(data.position);\r\n         }\r\n         else\r\n         {\r\n            // When not rendered set position to the 'beforeMinimized' data if it exists otherwise set w/ 'position'.\r\n            // Currently, w/ Foundry core Application API it is impossible to initially render an app in the minimized\r\n            // state.\r\n\r\n            let positionData = data.position;\r\n\r\n            if (isObject(data.beforeMinimized))\r\n            {\r\n               // Take before minimized data.\r\n               positionData = data.beforeMinimized;\r\n\r\n               // Apply position left / top to before minimized data. This covers the case when an app is minimized,\r\n               // but then moved. This allows restoration of the before minimized parameters w/ the last position\r\n               // location.\r\n               positionData.left = data.position.left;\r\n               positionData.top = data.position.top;\r\n            }\r\n\r\n            application.position.set(positionData);\r\n         }\r\n      }\r\n   }\r\n}\r\n","/**\r\n * Provides a mechanism to retrieve and query all mounted Svelte components including the main application shell.\r\n */\r\nexport class GetSvelteData\r\n{\r\n   /** @type {import('./types').MountedAppShell[] | null[]} */\r\n   #applicationShellHolder;\r\n\r\n   /** @type {import('./types').SvelteData[]} */\r\n   #svelteData;\r\n\r\n   /**\r\n    * Keep a direct reference to the SvelteData array in an associated {@link SvelteApplication}.\r\n    *\r\n    * @param {import('./types').MountedAppShell[] | null[]}  applicationShellHolder - A reference to the\r\n    *        MountedAppShell array.\r\n    *\r\n    * @param {import('./types').SvelteData[]}  svelteData - A reference to the SvelteData array of mounted components.\r\n    */\r\n   constructor(applicationShellHolder, svelteData)\r\n   {\r\n      this.#applicationShellHolder = applicationShellHolder;\r\n      this.#svelteData = svelteData;\r\n   }\r\n\r\n   /**\r\n    * Returns any mounted {@link MountedAppShell}.\r\n    *\r\n    * @returns {import('./types').MountedAppShell | null} Any mounted application shell.\r\n    */\r\n   get applicationShell() { return this.#applicationShellHolder[0]; }\r\n\r\n   /**\r\n    * Returns the indexed Svelte component.\r\n    *\r\n    * @param {number}   index -\r\n    *\r\n    * @returns {object} The loaded Svelte component.\r\n    */\r\n   component(index)\r\n   {\r\n      const data = this.#svelteData[index];\r\n      return data?.component ?? void 0;\r\n   }\r\n\r\n   /**\r\n    * Returns the Svelte component entries iterator.\r\n    *\r\n    * @returns {IterableIterator<[number, import('svelte').SvelteComponent]>} Svelte component entries iterator.\r\n    * @yields\r\n    */\r\n   *componentEntries()\r\n   {\r\n      for (let cntr = 0; cntr < this.#svelteData.length; cntr++)\r\n      {\r\n         yield [cntr, this.#svelteData[cntr].component];\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Returns the Svelte component values iterator.\r\n    *\r\n    * @returns {IterableIterator<import('svelte').SvelteComponent>} Svelte component values iterator.\r\n    * @yields\r\n    */\r\n   *componentValues()\r\n   {\r\n      for (let cntr = 0; cntr < this.#svelteData.length; cntr++)\r\n      {\r\n         yield this.#svelteData[cntr].component;\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Returns the indexed SvelteData entry.\r\n    *\r\n    * @param {number}   index - The index of SvelteData instance to retrieve.\r\n    *\r\n    * @returns {import('./types').SvelteData} The loaded Svelte config + component.\r\n    */\r\n   data(index)\r\n   {\r\n      return this.#svelteData[index];\r\n   }\r\n\r\n   /**\r\n    * Returns the {@link SvelteData} instance for a given component.\r\n    *\r\n    * @param {import('svelte').SvelteComponent} component - Svelte component.\r\n    *\r\n    * @returns {import('./types').SvelteData} -  The loaded Svelte config + component.\r\n    */\r\n   dataByComponent(component)\r\n   {\r\n      for (const data of this.#svelteData)\r\n      {\r\n         if (data.component === component) { return data; }\r\n      }\r\n\r\n      return void 0;\r\n   }\r\n\r\n   /**\r\n    * Returns the SvelteData entries iterator.\r\n    *\r\n    * @returns {IterableIterator<[number, import('./types').SvelteData]>} SvelteData entries iterator.\r\n    */\r\n   dataEntries()\r\n   {\r\n      return this.#svelteData.entries();\r\n   }\r\n\r\n   /**\r\n    * Returns the SvelteData values iterator.\r\n    *\r\n    * @returns {IterableIterator<import('./types').SvelteData>} SvelteData values iterator.\r\n    */\r\n   dataValues()\r\n   {\r\n      return this.#svelteData.values();\r\n   }\r\n\r\n   /**\r\n    * Returns the length of the mounted Svelte component list.\r\n    *\r\n    * @returns {number} Length of mounted Svelte component list.\r\n    */\r\n   get length()\r\n   {\r\n      return this.#svelteData.length;\r\n   }\r\n}\r\n","import { derived, writable }     from '#svelte/store';\r\n\r\nimport { subscribeIgnoreFirst }  from '#runtime/svelte/store/util';\r\n\r\nimport {\r\n   TJSSessionStorage,\r\n   TJSWebStorage }               from '#runtime/svelte/store/web-storage';\r\n\r\nimport { propertyStore }         from '#runtime/svelte/store/writable-derived';\r\n\r\nimport {\r\n   deepMerge,\r\n   safeAccess,\r\n   safeSet }                     from '#runtime/util/object';\r\n\r\n/**\r\n * Contains the reactive functionality / Svelte stores associated with SvelteApplication and retrievable by\r\n * {@link SvelteApplication.reactive}.\r\n *\r\n * There are several reactive getters for UI state such and for two-way bindings / stores see\r\n * {@link SvelteReactive.storeUIState}:\r\n * - {@link SvelteReactive.dragging}\r\n * - {@link SvelteReactive.minimized}\r\n * - {@link SvelteReactive.resizing}\r\n *\r\n * There are also reactive getters / setters for {@link SvelteApp.Options} and Foundry\r\n * `ApplicationOptions`. You can use the following as one way bindings and update the\r\n * associated stores. For two-way bindings / stores see {@link SvelteReactive.storeAppOptions}.\r\n *\r\n * - {@link SvelteReactive.draggable}\r\n * - {@link SvelteReactive.focusAuto}\r\n * - {@link SvelteReactive.focusKeep}\r\n * - {@link SvelteReactive.focusTrap}\r\n * - {@link SvelteReactive.headerButtonNoClose}\r\n * - {@link SvelteReactive.headerButtonNoLabel}\r\n * - {@link SvelteReactive.headerIcon}\r\n * - {@link SvelteReactive.headerNoTitleMinimized}\r\n * - {@link SvelteReactive.minimizable}\r\n * - {@link SvelteReactive.popOut}\r\n * - {@link SvelteReactive.positionable}\r\n * - {@link SvelteReactive.resizable}\r\n * - {@link SvelteReactive.title}\r\n *\r\n * An instance of TJSWebStorage (session) / TJSSessionStorage is accessible via {@link SvelteReactive.sessionStorage}.\r\n * Optionally you can pass in an existing TJSWebStorage instance that can be shared across multiple SvelteApplications\r\n * by setting {@link SvelteApp.Options.sessionStorage}.\r\n *\r\n * -------------------------------------------------------------------------------------------------------------------\r\n *\r\n * This API is not sealed, and it is recommended that you extend it with accessors to get / set data that is reactive\r\n * in your application. An example of setting an exported prop `document` from the main mounted application shell.\r\n *\r\n * @example\r\n * import { hasSetter } from '@typhonjs-fvtt/runtime/svelte/util';\r\n *\r\n * // Note: make a normal comment.\r\n * //  * @member {object} document - Adds accessors to SvelteReactive to get / set the document associated with\r\n * //  *                             Document with the mounted application shell Svelte component.\r\n * //  *\r\n * //  * @memberof SvelteReactive#\r\n * //  *\r\n * Object.defineProperty(this.reactive, 'document', {\r\n *    get: () => this.svelte?.applicationShell?.document,\r\n *    set: (document) =>\r\n *    {\r\n *       const component = this.svelte?.applicationShell;\r\n *       if (hasSetter(component, 'document')) { component.document = document; }\r\n *    }\r\n * });\r\n */\r\nexport class SvelteReactive\r\n{\r\n   /**\r\n    * @type {import('../SvelteApplication').SvelteApplication}\r\n    */\r\n   #application;\r\n\r\n   /**\r\n    * @type {boolean}\r\n    */\r\n   #initialized = false;\r\n\r\n   /** @type {import('#runtime/svelte/store/web-storage').WebStorage} */\r\n   #sessionStorage;\r\n\r\n   /**\r\n    * The Application option store which is injected into mounted Svelte component context under the `external` key.\r\n    *\r\n    * @type {import('./types').StoreAppOptions}\r\n    */\r\n   #storeAppOptions;\r\n\r\n   /**\r\n    * Stores the update function for `#storeAppOptions`.\r\n    *\r\n    * @type {(this: void, updater: import('svelte/store').Updater<object>) => void}\r\n    */\r\n   #storeAppOptionsUpdate;\r\n\r\n   /**\r\n    * Stores the UI state data to make it accessible via getters.\r\n    *\r\n    * @type {object}\r\n    */\r\n   #dataUIState;\r\n\r\n   /**\r\n    * The UI option store which is injected into mounted Svelte component context under the `external` key.\r\n    *\r\n    * @type {import('./types').StoreUIOptions}\r\n    */\r\n   #storeUIState;\r\n\r\n   /**\r\n    * Stores the update function for `#storeUIState`.\r\n    *\r\n    * @type {(this: void, updater: import('svelte/store').Updater<object>) => void}\r\n    */\r\n   #storeUIStateUpdate;\r\n\r\n   /**\r\n    * Stores the unsubscribe functions from local store subscriptions.\r\n    *\r\n    * @type {import('svelte/store').Unsubscriber[]}\r\n    */\r\n   #storeUnsubscribe = [];\r\n\r\n   /**\r\n    * @param {import('../SvelteApplication').SvelteApplication} application - The host Foundry application.\r\n    */\r\n   constructor(application)\r\n   {\r\n      this.#application = application;\r\n      const optionsSessionStorage = application?.options?.sessionStorage;\r\n\r\n      if (optionsSessionStorage !== void 0 && !(optionsSessionStorage instanceof TJSWebStorage))\r\n      {\r\n         throw new TypeError(`'options.sessionStorage' is not an instance of TJSWebStorage.`);\r\n      }\r\n\r\n      // If no external web storage API instance is available then create a TJSSessionStorage instance.\r\n      this.#sessionStorage = optionsSessionStorage !== void 0 ? optionsSessionStorage : new TJSSessionStorage();\r\n   }\r\n\r\n   /**\r\n    * Initializes reactive support. Package private for internal use.\r\n    *\r\n    * @returns {import('./types-local').SvelteReactiveStores | undefined} Internal methods to interact with Svelte\r\n    * stores.\r\n    *\r\n    * @package\r\n    * @internal\r\n    */\r\n   initialize()\r\n   {\r\n      if (this.#initialized) { return; }\r\n\r\n      this.#initialized = true;\r\n\r\n      this.#storesInitialize();\r\n\r\n      return {\r\n         appOptionsUpdate: this.#storeAppOptionsUpdate,\r\n         uiStateUpdate: this.#storeUIStateUpdate,\r\n         subscribe: this.#storesSubscribe.bind(this),\r\n         unsubscribe: this.#storesUnsubscribe.bind(this)\r\n      };\r\n   }\r\n\r\n// Store getters -----------------------------------------------------------------------------------------------------\r\n\r\n   /**\r\n    * @returns {import('#runtime/svelte/store/web-storage').WebStorage} Returns WebStorage (session) instance.\r\n    */\r\n   get sessionStorage()\r\n   {\r\n      return this.#sessionStorage;\r\n   }\r\n\r\n   /**\r\n    * Returns the store for app options.\r\n    *\r\n    * @returns {import('./types').StoreAppOptions} App options store.\r\n    */\r\n   get storeAppOptions() { return this.#storeAppOptions; }\r\n\r\n   /**\r\n    * Returns the store for UI options.\r\n    *\r\n    * @returns {import('./types').StoreUIOptions} UI options store.\r\n    */\r\n   get storeUIState() { return this.#storeUIState; }\r\n\r\n// Only reactive getters ---------------------------------------------------------------------------------------------\r\n\r\n   /**\r\n    * Returns the current active Window / WindowProxy UI state.\r\n    *\r\n    * @returns {Window} Active window UI state.\r\n    */\r\n   get activeWindow() { return this.#dataUIState.activeWindow ?? globalThis; }\r\n\r\n   /**\r\n    * Returns the current dragging UI state.\r\n    *\r\n    * @returns {boolean} Dragging UI state.\r\n    */\r\n   get dragging() { return this.#dataUIState.dragging; }\r\n\r\n   /**\r\n    * Returns the current minimized UI state.\r\n    *\r\n    * @returns {boolean} Minimized UI state.\r\n    */\r\n   get minimized() { return this.#dataUIState.minimized; }\r\n\r\n   /**\r\n    * Returns the current resizing UI state.\r\n    *\r\n    * @returns {boolean} Resizing UI state.\r\n    */\r\n   get resizing() { return this.#dataUIState.resizing; }\r\n\r\n   /**\r\n    * Sets the current active Window / WindowProxy UI state.\r\n    *\r\n    * Note: This is protected usage and used internally.\r\n    *\r\n    * @param {Window} activeWindow - Active Window / WindowProxy UI state.\r\n    */\r\n   set activeWindow(activeWindow)\r\n   {\r\n      // Note: when setting activeWindow to undefined `globalThis` is set. There isn't a great test for Window /\r\n      // WindowProxy, so check `toString`.\r\n      if (activeWindow === void 0 || activeWindow === null ||\r\n       (Object.prototype.toString.call(activeWindow) === '[object Window]'))\r\n      {\r\n         this.#storeUIStateUpdate((options) => deepMerge(options, { activeWindow: activeWindow ?? globalThis }));\r\n      }\r\n   }\r\n\r\n// Reactive getter / setters -----------------------------------------------------------------------------------------\r\n\r\n   /**\r\n    * Returns the draggable app option.\r\n    *\r\n    * @returns {boolean} Draggable app option.\r\n    */\r\n   get draggable() { return this.#application?.options?.draggable; }\r\n\r\n   /**\r\n    * Returns the focusAuto app option.\r\n    *\r\n    * @returns {boolean} When true auto-management of app focus is enabled.\r\n    */\r\n   get focusAuto() { return this.#application?.options?.focusAuto; }\r\n\r\n   /**\r\n    * Returns the focusKeep app option.\r\n    *\r\n    * @returns {boolean} When `focusAuto` and `focusKeep` is true; keeps internal focus.\r\n    */\r\n   get focusKeep() { return this.#application?.options?.focusKeep; }\r\n\r\n   /**\r\n    * Returns the focusTrap app option.\r\n    *\r\n    * @returns {boolean} When true focus trapping / wrapping is enabled keeping focus inside app.\r\n    */\r\n   get focusTrap() { return this.#application?.options?.focusTrap; }\r\n\r\n   /**\r\n    * Returns the headerButtonNoClose app option.\r\n    *\r\n    * @returns {boolean} Remove the close the button in header app option.\r\n    */\r\n   get headerButtonNoClose() { return this.#application?.options?.headerButtonNoClose; }\r\n\r\n   /**\r\n    * Returns the headerButtonNoLabel app option.\r\n    *\r\n    * @returns {boolean} Remove the labels from buttons in header app option.\r\n    */\r\n   get headerButtonNoLabel() { return this.#application?.options?.headerButtonNoLabel; }\r\n\r\n   /**\r\n    * Returns the headerIcon app option.\r\n    *\r\n    * @returns {string|void} URL for header app icon.\r\n    */\r\n   get headerIcon() { return this.#application?.options?.headerIcon; }\r\n\r\n   /**\r\n    * Returns the headerNoTitleMinimized app option.\r\n    *\r\n    * @returns {boolean} When true removes the header title when minimized.\r\n    */\r\n   get headerNoTitleMinimized() { return this.#application?.options?.headerNoTitleMinimized; }\r\n\r\n   /**\r\n    * Returns the minimizable app option.\r\n    *\r\n    * @returns {boolean} Minimizable app option.\r\n    */\r\n   get minimizable() { return this.#application?.options?.minimizable; }\r\n\r\n   /**\r\n    * Returns the Foundry popOut state; {@link Application.popOut}\r\n    *\r\n    * @returns {boolean} Positionable app option.\r\n    */\r\n   get popOut() { return this.#application.popOut; }\r\n\r\n   /**\r\n    * Returns the positionable app option; {@link SvelteApp.Options.positionable}\r\n    *\r\n    * @returns {boolean} Positionable app option.\r\n    */\r\n   get positionable() { return this.#application?.options?.positionable; }\r\n\r\n   /**\r\n    * Returns the resizable option.\r\n    *\r\n    * @returns {boolean} Resizable app option.\r\n    */\r\n   get resizable() { return this.#application?.options?.resizable; }\r\n\r\n   /**\r\n    * Returns the title accessor from the parent Application class; {@link Application.title}\r\n    *\r\n    * @privateRemarks\r\n    * TODO: Application v2; note that super.title localizes `this.options.title`; IMHO it shouldn't.    *\r\n    *\r\n    * @returns {string} Title.\r\n    */\r\n   get title() { return this.#application.title; }\r\n\r\n   /**\r\n    * Sets `this.options.draggable` which is reactive for application shells.\r\n    *\r\n    * @param {boolean}  draggable - Sets the draggable option.\r\n    */\r\n   set draggable(draggable)\r\n   {\r\n      if (typeof draggable === 'boolean') { this.setOptions('draggable', draggable); }\r\n   }\r\n\r\n   /**\r\n    * Sets `this.options.focusAuto` which is reactive for application shells.\r\n    *\r\n    * @param {boolean}  focusAuto - Sets the focusAuto option.\r\n    */\r\n   set focusAuto(focusAuto)\r\n   {\r\n      if (typeof focusAuto === 'boolean') { this.setOptions('focusAuto', focusAuto); }\r\n   }\r\n\r\n   /**\r\n    * Sets `this.options.focusKeep` which is reactive for application shells.\r\n    *\r\n    * @param {boolean}  focusKeep - Sets the focusKeep option.\r\n    */\r\n   set focusKeep(focusKeep)\r\n   {\r\n      if (typeof focusKeep === 'boolean') { this.setOptions('focusKeep', focusKeep); }\r\n   }\r\n\r\n   /**\r\n    * Sets `this.options.focusTrap` which is reactive for application shells.\r\n    *\r\n    * @param {boolean}  focusTrap - Sets the focusTrap option.\r\n    */\r\n   set focusTrap(focusTrap)\r\n   {\r\n      if (typeof focusTrap === 'boolean') { this.setOptions('focusTrap', focusTrap); }\r\n   }\r\n\r\n   /**\r\n    * Sets `this.options.headerButtonNoClose` which is reactive for application shells.\r\n    *\r\n    * @param {boolean}  headerButtonNoClose - Sets the headerButtonNoClose option.\r\n    */\r\n   set headerButtonNoClose(headerButtonNoClose)\r\n   {\r\n      if (typeof headerButtonNoClose === 'boolean') { this.setOptions('headerButtonNoClose', headerButtonNoClose); }\r\n   }\r\n\r\n   /**\r\n    * Sets `this.options.headerButtonNoLabel` which is reactive for application shells.\r\n    *\r\n    * @param {boolean}  headerButtonNoLabel - Sets the headerButtonNoLabel option.\r\n    */\r\n   set headerButtonNoLabel(headerButtonNoLabel)\r\n   {\r\n      if (typeof headerButtonNoLabel === 'boolean') { this.setOptions('headerButtonNoLabel', headerButtonNoLabel); }\r\n   }\r\n\r\n   /**\r\n    * Sets `this.options.headerIcon` which is reactive for application shells.\r\n    *\r\n    * @param {string | undefined}  headerIcon - Sets the headerButtonNoLabel option.\r\n    */\r\n   set headerIcon(headerIcon)\r\n   {\r\n      if (headerIcon === void 0 || typeof headerIcon === 'string') { this.setOptions('headerIcon', headerIcon); }\r\n   }\r\n\r\n   /**\r\n    * Sets `this.options.headerNoTitleMinimized` which is reactive for application shells.\r\n    *\r\n    * @param {boolean}  headerNoTitleMinimized - Sets the headerNoTitleMinimized option.\r\n    */\r\n   set headerNoTitleMinimized(headerNoTitleMinimized)\r\n   {\r\n      if (typeof headerNoTitleMinimized === 'boolean')\r\n      {\r\n         this.setOptions('headerNoTitleMinimized', headerNoTitleMinimized);\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Sets `this.options.minimizable` which is reactive for application shells that are also pop out.\r\n    *\r\n    * @param {boolean}  minimizable - Sets the minimizable option.\r\n    */\r\n   set minimizable(minimizable)\r\n   {\r\n      if (typeof minimizable === 'boolean') { this.setOptions('minimizable', minimizable); }\r\n   }\r\n\r\n   /**\r\n    * Sets `this.options.popOut` which is reactive for application shells. This will add / remove this application\r\n    * from `ui.windows`.\r\n    *\r\n    * @param {boolean}  popOut - Sets the popOut option.\r\n    */\r\n   set popOut(popOut)\r\n   {\r\n      if (typeof popOut === 'boolean') { this.setOptions('popOut', popOut); }\r\n   }\r\n\r\n   /**\r\n    * Sets `this.options.positionable` enabling / disabling {@link SvelteApplication.position}.\r\n    *\r\n    * @param {boolean}  positionable - Sets the positionable option.\r\n    */\r\n   set positionable(positionable)\r\n   {\r\n      if (typeof positionable === 'boolean') { this.setOptions('positionable', positionable); }\r\n   }\r\n\r\n   /**\r\n    * Sets `this.options.resizable` which is reactive for application shells.\r\n    *\r\n    * @param {boolean}  resizable - Sets the resizable option.\r\n    */\r\n   set resizable(resizable)\r\n   {\r\n      if (typeof resizable === 'boolean') { this.setOptions('resizable', resizable); }\r\n   }\r\n\r\n   /**\r\n    * Sets `this.options.title` which is reactive for application shells.\r\n    *\r\n    * Note: Will set empty string if title is undefined or null.\r\n    *\r\n    * @param {string | undefined | null}   title - Application title; will be localized, so a translation key is fine.\r\n    */\r\n   set title(title)\r\n   {\r\n      if (typeof title === 'string')\r\n      {\r\n         this.setOptions('title', title);\r\n      }\r\n      else if (title === void 0 || title === null)\r\n      {\r\n         this.setOptions('title', '');\r\n      }\r\n   }\r\n\r\n   // Reactive Options API -------------------------------------------------------------------------------------------\r\n\r\n   /**\r\n    * Provides a way to safely get this applications options given an accessor string which describes the\r\n    * entries to walk. To access deeper entries into the object format the accessor string with `.` between entries\r\n    * to walk.\r\n    *\r\n    * // TODO DOCUMENT the accessor in more detail.\r\n    *\r\n    * @param {string}   accessor - The path / key to set. You can set multiple levels.\r\n    *\r\n    * @param {*}        [defaultValue] - A default value returned if the accessor is not found.\r\n    *\r\n    * @returns {*} Value at the accessor.\r\n    */\r\n   getOptions(accessor, defaultValue)\r\n   {\r\n      return safeAccess(this.#application.options, accessor, defaultValue);\r\n   }\r\n\r\n   /**\r\n    * Provides a way to merge `options` into this applications options and update the appOptions store.\r\n    *\r\n    * @param {object}   options - The options object to merge with `this.options`.\r\n    */\r\n   mergeOptions(options)\r\n   {\r\n      this.#storeAppOptionsUpdate((instanceOptions) => deepMerge(instanceOptions, options));\r\n   }\r\n\r\n   /**\r\n    * Provides a way to safely set this applications options given an accessor string which describes the\r\n    * entries to walk. To access deeper entries into the object format the accessor string with `.` between entries\r\n    * to walk.\r\n    *\r\n    * Additionally if an application shell Svelte component is mounted and exports the `appOptions` property then\r\n    * the application options is set to `appOptions` potentially updating the application shell / Svelte component.\r\n    *\r\n    * // TODO DOCUMENT the accessor in more detail.\r\n    *\r\n    * @param {string}   accessor - The path / key to set. You can set multiple levels.\r\n    *\r\n    * @param {any}      value - Value to set.\r\n    */\r\n   setOptions(accessor, value)\r\n   {\r\n      const success = safeSet(this.#application.options, accessor, value);\r\n\r\n      // If `this.options` modified then update the app options store.\r\n      if (success)\r\n      {\r\n         this.#storeAppOptionsUpdate(() => this.#application.options);\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Serializes the main {@link SvelteApp.Options} for common application state.\r\n    *\r\n    * @returns {import('./types').SvelteReactiveData} Common application state.\r\n    */\r\n   toJSON()\r\n   {\r\n      return {\r\n         draggable: this.#application?.options?.draggable ?? true,\r\n         focusAuto: this.#application?.options?.focusAuto ?? true,\r\n         focusKeep: this.#application?.options?.focusKeep ?? false,\r\n         focusTrap: this.#application?.options?.focusTrap ?? true,\r\n         headerButtonNoClose: this.#application?.options?.headerButtonNoClose ?? false,\r\n         headerButtonNoLabel: this.#application?.options?.headerButtonNoLabel ?? false,\r\n         headerNoTitleMinimized: this.#application?.options?.headerNoTitleMinimized ?? false,\r\n         minimizable: this.#application?.options?.minimizable ?? true,\r\n         positionable: this.#application?.options?.positionable ?? true,\r\n         resizable: this.#application?.options?.resizable ?? true\r\n      };\r\n   }\r\n\r\n   /**\r\n    * Updates the UI Options store with the current header buttons. You may dynamically add / remove header buttons\r\n    * if using an application shell Svelte component. In either overriding `_getHeaderButtons` or responding to the\r\n    * Hooks fired return a new button array and the uiOptions store is updated and the application shell will render\r\n    * the new buttons.\r\n    *\r\n    * Optionally you can set in the SvelteApplication app options {@link SvelteApp.Options.headerButtonNoClose}\r\n    * to remove the close button and {@link SvelteApp.Options.headerButtonNoLabel} to true and labels will be\r\n    * removed from the header buttons.\r\n    *\r\n    * @param {object} [opts] - Optional parameters (for internal use)\r\n    *\r\n    * @param {boolean} [opts.headerButtonNoClose] - The value for `headerButtonNoClose`.\r\n    *\r\n    * @param {boolean} [opts.headerButtonNoLabel] - The value for `headerButtonNoLabel`.\r\n    */\r\n   updateHeaderButtons({ headerButtonNoClose = this.#application.options.headerButtonNoClose,\r\n    headerButtonNoLabel = this.#application.options.headerButtonNoLabel } = {})\r\n   {\r\n      let buttons = this.#application._getHeaderButtons();\r\n\r\n      // Remove close button if this.options.headerButtonNoClose is true;\r\n      if (typeof headerButtonNoClose === 'boolean' && headerButtonNoClose)\r\n      {\r\n         buttons = buttons.filter((button) => button.class !== 'close');\r\n      }\r\n\r\n      // Remove labels if this.options.headerButtonNoLabel is true;\r\n      if (typeof headerButtonNoLabel === 'boolean' && headerButtonNoLabel)\r\n      {\r\n         for (const button of buttons) { button.label = void 0; }\r\n      }\r\n\r\n      this.#storeUIStateUpdate((options) =>\r\n      {\r\n         options.headerButtons = buttons;\r\n         return options;\r\n      });\r\n   }\r\n\r\n   // Internal implementation ----------------------------------------------------------------------------------------\r\n\r\n   /**\r\n    * Initializes the Svelte stores and derived stores for the application options and UI state.\r\n    *\r\n    * While writable stores are created the update method is stored in private variables locally and derived Readable\r\n    * stores are provided for essential options which are commonly used.\r\n    *\r\n    * These stores are injected into all Svelte components mounted under the `external` context: `storeAppOptions` and\r\n    * `storeUIState`.\r\n    */\r\n   #storesInitialize()\r\n   {\r\n      const writableAppOptions = writable(this.#application.options);\r\n\r\n      // Keep the update function locally, but make the store essentially readable.\r\n      this.#storeAppOptionsUpdate = writableAppOptions.update;\r\n\r\n      /**\r\n       * Create custom store. The main subscribe method for all app options changes is provided along with derived\r\n       * writable stores for all reactive options.\r\n       *\r\n       * @type {import('./types').StoreAppOptions}\r\n       */\r\n      const storeAppOptions = {\r\n         subscribe: writableAppOptions.subscribe,\r\n\r\n         draggable: propertyStore(writableAppOptions, 'draggable'),\r\n         focusAuto: propertyStore(writableAppOptions, 'focusAuto'),\r\n         focusKeep: propertyStore(writableAppOptions, 'focusKeep'),\r\n         focusTrap: propertyStore(writableAppOptions, 'focusTrap'),\r\n         headerButtonNoClose: propertyStore(writableAppOptions, 'headerButtonNoClose'),\r\n         headerButtonNoLabel: propertyStore(writableAppOptions, 'headerButtonNoLabel'),\r\n         headerIcon: propertyStore(writableAppOptions, 'headerIcon'),\r\n         headerNoTitleMinimized: propertyStore(writableAppOptions, 'headerNoTitleMinimized'),\r\n         minimizable: propertyStore(writableAppOptions, 'minimizable'),\r\n         popOut: propertyStore(writableAppOptions, 'popOut'),\r\n         positionable: propertyStore(writableAppOptions, 'positionable'),\r\n         resizable: propertyStore(writableAppOptions, 'resizable'),\r\n         title: propertyStore(writableAppOptions, 'title')\r\n      };\r\n\r\n      Object.freeze(storeAppOptions);\r\n\r\n      this.#storeAppOptions = storeAppOptions;\r\n\r\n      this.#dataUIState = {\r\n         activeWindow: globalThis,\r\n         dragging: false,\r\n         headerButtons: [],\r\n         minimized: this.#application._minimized,\r\n         resizing: false\r\n      };\r\n\r\n      // Create a store for UI state data.\r\n      const writableUIOptions = writable(this.#dataUIState);\r\n\r\n      // Keep the update function locally, but make the store essentially readable.\r\n      this.#storeUIStateUpdate = writableUIOptions.update;\r\n\r\n      /**\r\n       * @type {import('./types').StoreUIOptions}\r\n       */\r\n      const storeUIState = {\r\n         subscribe: writableUIOptions.subscribe,\r\n\r\n         // activeWindow: propertyStore(writableUIOptions, 'activeWindow'),\r\n         activeWindow: derived(writableUIOptions, ($options, set) => set($options.activeWindow)),\r\n         dragging: propertyStore(writableUIOptions, 'dragging'),\r\n         headerButtons: derived(writableUIOptions, ($options, set) => set($options.headerButtons)),\r\n         minimized: derived(writableUIOptions, ($options, set) => set($options.minimized)),\r\n         resizing: propertyStore(writableUIOptions, 'resizing')\r\n      };\r\n\r\n      Object.freeze(storeUIState);\r\n\r\n      // Initialize the store with options set in the Application constructor.\r\n      this.#storeUIState = storeUIState;\r\n   }\r\n\r\n   /**\r\n    * Registers local store subscriptions for app options. `popOut` controls registering this app with `ui.windows`.\r\n    *\r\n    * @see SvelteApplication._injectHTML\r\n    */\r\n   #storesSubscribe()\r\n   {\r\n      // Register local subscriptions.\r\n\r\n      // Handles updating header buttons to add / remove the close button.\r\n      this.#storeUnsubscribe.push(subscribeIgnoreFirst(this.#storeAppOptions.headerButtonNoClose, (value) =>\r\n      {\r\n         this.updateHeaderButtons({ headerButtonNoClose: value });\r\n      }));\r\n\r\n      // Handles updating header buttons to add / remove button labels.\r\n      this.#storeUnsubscribe.push(subscribeIgnoreFirst(this.#storeAppOptions.headerButtonNoLabel, (value) =>\r\n      {\r\n         this.updateHeaderButtons({ headerButtonNoLabel: value });\r\n      }));\r\n\r\n      // Handles adding / removing this application from `ui.windows` when popOut changes.\r\n      this.#storeUnsubscribe.push(subscribeIgnoreFirst(this.#storeAppOptions.popOut, (value) =>\r\n      {\r\n         if (value && this.#application.rendered)\r\n         {\r\n            globalThis.ui.windows[this.#application.appId] = this.#application;\r\n         }\r\n         else\r\n         {\r\n            delete globalThis.ui.windows[this.#application.appId];\r\n         }\r\n      }));\r\n   }\r\n\r\n   /**\r\n    * Unsubscribes from any locally monitored stores.\r\n    *\r\n    * @see SvelteApplication.close\r\n    */\r\n   #storesUnsubscribe()\r\n   {\r\n      this.#storeUnsubscribe.forEach((unsubscribe) => unsubscribe());\r\n      this.#storeUnsubscribe = [];\r\n   }\r\n}\r\n","/**\r\n * Defines the application shell contract. If Svelte components export getter / setters for the following properties\r\n * then that component is considered an application shell.\r\n *\r\n * @type {string[]}\r\n */\r\nconst applicationShellContract = ['elementRoot'];\r\n\r\nObject.freeze(applicationShellContract);\r\n\r\nexport { applicationShellContract };\r\n","import { applicationShellContract } from './applicationShellContract.js';\r\n\r\n/**\r\n * Provides a method to determine if the passed in object / Svelte component follows the application shell contract.\r\n * This involves ensuring that the accessors defined in `applicationShellContract`.\r\n *\r\n * Note: A caveat is that when using Vite in a developer build components are wrapped in a proxy / ProxyComponent that\r\n * defines instance accessors versus on the prototype, so the check below ensures that all accessors in the contract are\r\n * either available on the prototype or directly on the instance.\r\n *\r\n * @param {*}  component - Object / component to test.\r\n *\r\n * @returns {boolean} Whether the component is a ApplicationShell or TJSApplicationShell.\r\n */\r\nexport function isApplicationShell(component)\r\n{\r\n   if (component === null || component === void 0) { return false; }\r\n\r\n   let compHasContract = true;\r\n   let protoHasContract = true;\r\n\r\n   // Check for accessors on the instance.\r\n   for (const accessor of applicationShellContract)\r\n   {\r\n      const descriptor = Object.getOwnPropertyDescriptor(component, accessor);\r\n      if (descriptor === void 0 || descriptor.get === void 0 || descriptor.set === void 0) { compHasContract = false; }\r\n   }\r\n\r\n   // Get the prototype which is the parent SvelteComponent that has any getter / setters.\r\n   const prototype = Object.getPrototypeOf(component);\r\n\r\n   // Verify the application shell contract. If the accessors (getters / setters) are defined for\r\n   // `applicationShellContract`.\r\n   for (const accessor of applicationShellContract)\r\n   {\r\n      const descriptor = Object.getOwnPropertyDescriptor(prototype, accessor);\r\n      if (descriptor === void 0 || descriptor.get === void 0 || descriptor.set === void 0) { protoHasContract = false; }\r\n   }\r\n\r\n   return compHasContract || protoHasContract;\r\n}\r\n","import { TJSSvelteConfigUtil }   from '#runtime/svelte/util';\r\nimport { CrossWindow }           from '#runtime/util/browser';\r\nimport { isObject }              from '#runtime/util/object';\r\n\r\nimport { isApplicationShell }    from './isApplicationShell.js';\r\n\r\n/**\r\n * Instantiates and attaches a Svelte component to the main inserted HTML.\r\n *\r\n * @param {object}            [opts] - Optional parameters.\r\n *\r\n * @param {object}            [opts.app] - The target application\r\n *\r\n * @param {import('#runtime/svelte/util').TJSSvelteConfig}  [opts.config] - Svelte component options\r\n *\r\n * @param {Function}          [opts.elementRootUpdate] - A callback to assign to the external context.\r\n *\r\n * @returns {import('#svelte-fvtt/application').SvelteData} The config + instantiated Svelte component.\r\n */\r\nexport function loadSvelteConfig({ app, config, elementRootUpdate } = {})\r\n{\r\n   let target;\r\n\r\n   // A specific HTMLElement to append Svelte component.\r\n   if (CrossWindow.isHTMLElement(config.target))\r\n   {\r\n      target = config.target;\r\n   }\r\n   else if (typeof config.target === 'string')\r\n   {\r\n      // Attempt to find target from query selector string.\r\n      const activeWindow = app?.reactive?.activeWindow;\r\n      target = activeWindow?.document?.querySelector(config.target);\r\n   }\r\n\r\n   if (!CrossWindow.isHTMLElement(target))\r\n   {\r\n      console.log(\r\n       `%c[TRL] loadSvelteConfig error - Could not find target, '${config.target}', for config:\\n`,\r\n        'background: rgb(57,34,34)', config);\r\n\r\n      throw new Error();\r\n   }\r\n\r\n   const NewSvelteComponent = config.class;\r\n\r\n   const svelteConfig = TJSSvelteConfigUtil.parseConfig({ ...config, target }, app);\r\n\r\n   const externalContext = svelteConfig.context.get('#external');\r\n\r\n   // Inject the Foundry application instance and `elementRootUpdate` to the external context.\r\n   externalContext.application = app;\r\n   externalContext.elementRootUpdate = elementRootUpdate;\r\n   externalContext.sessionStorage = app.reactive.sessionStorage;\r\n\r\n   let eventbus;\r\n\r\n   // Potentially inject any TyphonJS eventbus and track the proxy in the SvelteData instance.\r\n   if (isObject(app._eventbus) && typeof app._eventbus.createProxy === 'function')\r\n   {\r\n      eventbus = app._eventbus.createProxy();\r\n      externalContext.eventbus = eventbus;\r\n   }\r\n\r\n   // Seal external context so that it can't be extended.\r\n   Object.seal(externalContext);\r\n\r\n   // Create the Svelte component.\r\n   /**\r\n    * @type {import('svelte').SvelteComponent}\r\n    */\r\n   const component = new NewSvelteComponent(svelteConfig);\r\n\r\n   // Set any eventbus to the config.\r\n   svelteConfig.eventbus = eventbus;\r\n\r\n   /**\r\n    * @type {HTMLElement}\r\n    */\r\n   let element;\r\n\r\n   // We can directly get the root element from components which follow the application store contract.\r\n   if (isApplicationShell(component))\r\n   {\r\n      element = component.elementRoot;\r\n   }\r\n\r\n   if (!CrossWindow.isHTMLElement(element))\r\n   {\r\n      console.log(\r\n       `%c[TRL] loadSvelteConfig error - No application shell contract found. Did you bind and export a HTMLElement ` +\r\n        `as 'elementRoot' and include '<svelte:options accessors={true}/>'?\\n` +\r\n         `\\nOffending config:\\n`, 'background: rgb(57,34,34)', config);\r\n\r\n      throw new Error();\r\n   }\r\n\r\n   return { config: svelteConfig, component, element };\r\n}\r\n","/**\r\n * Provides an index of all visible rendered {@link SvelteApplication} instances in a given Svelte runtime. This allows\r\n * bulk operations to be performed across all apps.\r\n */\r\nexport class TJSAppIndex\r\n{\r\n   /**\r\n    * Stores all visible / rendered apps.\r\n    *\r\n    * @type {Map<string, import('#svelte-fvtt/application').SvelteApplication>}\r\n    */\r\n   static #visibleApps = new Map();\r\n\r\n   /**\r\n    * Adds a SvelteApplication to all visible apps tracked.\r\n    *\r\n    * @param {import('#svelte-fvtt/application').SvelteApplication} app - A SvelteApplication\r\n    *\r\n    * @package\r\n    */\r\n   static add(app)\r\n   {\r\n      this.#visibleApps.set(app.id, app);\r\n   }\r\n\r\n   /**\r\n    * Removes a SvelteApplication from all visible apps tracked.\r\n    *\r\n    * @param {import('#svelte-fvtt/application').SvelteApplication} app - A SvelteApplication\r\n    *\r\n    * @package\r\n    */\r\n   static delete(app)\r\n   {\r\n      this.#visibleApps.delete(app.id);\r\n   }\r\n\r\n   /**\r\n    * Gets a particular app by ID.\r\n    *\r\n    * @param {string}   key - App ID.\r\n    *\r\n    * @returns {import('#svelte-fvtt/application').SvelteApplication} Associated app.\r\n    */\r\n   static get(key)\r\n   {\r\n      return this.#visibleApps.get(key);\r\n   }\r\n\r\n   /**\r\n    * Returns whether an associated app by ID is being tracked.\r\n    *\r\n    * @param {string}   key - App ID.\r\n    *\r\n    * @returns {boolean} The given App ID is visible.\r\n    */\r\n   static has(key)\r\n   {\r\n      return this.#visibleApps.has(key);\r\n   }\r\n\r\n   /**\r\n    * @returns {IterableIterator<string>} All visible app IDs.\r\n    */\r\n   static keys()\r\n   {\r\n      return this.#visibleApps.keys();\r\n   }\r\n\r\n   /**\r\n    * @returns {IterableIterator<import('#svelte-fvtt/application').SvelteApplication>} All visible apps.\r\n    */\r\n   static values()\r\n   {\r\n      return this.#visibleApps.values();\r\n   }\r\n}\r\n","import { TJSAppIndex } from '../internal/index.js';\r\n\r\nexport class FoundryHMRSupport\r\n{\r\n   static initialize()\r\n   {\r\n      if (import.meta.hot)\r\n      {\r\n         Hooks.on('hotReload', (data) =>\r\n         {\r\n            // Only handle JSON hot reload presumably specified in package manifest for language translation files.\r\n            if (data?.extension === 'json')\r\n            {\r\n               // Postpone until next clock tick to allow Foundry to update localization first.\r\n               setTimeout(() =>\r\n               {\r\n                  for (const app of TJSAppIndex.values())\r\n                  {\r\n                     const appShell = app.svelte.applicationShell;\r\n\r\n                     // Retrieve the original `svelte-hmr` instrumented HMR component / not the proxy.\r\n                     const hmrComponent = appShell?.$$?.hmr_cmp;\r\n\r\n                     if (appShell && typeof hmrComponent?.$replace === 'function')\r\n                     {\r\n                        const svelteData = app.svelte.dataByComponent(appShell);\r\n                        if (svelteData)\r\n                        {\r\n                           try\r\n                           {\r\n                              // Replace with self; this will invoke `on_hmr` callback in associated SvelteApplication.\r\n                              hmrComponent.$replace(hmrComponent.constructor, {\r\n                                 target: svelteData.config.target,\r\n                                 anchor: svelteData.config.anchor,\r\n                                 preserveLocalState: true,\r\n                                 conservative: true\r\n                              });\r\n                           }\r\n                           catch (error)\r\n                           {\r\n                              const name = hmrComponent?.constructor?.name ?? 'Unknown';\r\n                              console.error(`TyphonJS Runtime Library error; Could not hot reload component: '${name}'`);\r\n                              console.error(error);\r\n                           }\r\n                        }\r\n                     }\r\n                  }\r\n               }, 0);\r\n            }\r\n\r\n            return true;\r\n         });\r\n      }\r\n   }\r\n}\r\n","import { TJSPosition }     from '#runtime/svelte/store/position';\r\nimport { TJSSvelteUtil }   from '#runtime/svelte/util';\r\nimport { A11yHelper }      from '#runtime/util/a11y';\r\nimport { CrossWindow }     from '#runtime/util/browser';\r\n\r\nimport {\r\n   deepMerge,\r\n   hasGetter,\r\n   isObject }              from '#runtime/util/object';\r\n\r\nimport {\r\n   ApplicationState,\r\n   GetSvelteData,\r\n   loadSvelteConfig,\r\n   SvelteReactive,\r\n   TJSAppIndex }           from './internal/index.js';\r\n\r\n/**\r\n * Provides a Svelte aware extension to the Foundry {@link Application} class to manage the app lifecycle\r\n * appropriately. You can declaratively load one or more components from `defaultOptions` using a\r\n * {@link #runtime/svelte/util!TJSSvelteConfig} object in the {@link SvelteApp.Options.svelte} property.\r\n *\r\n * @template [Options = import('./types').SvelteApp.Options]\r\n * @augments {Application<Options>}\r\n *\r\n * @implements {import('#runtime/svelte/store/position').TJSPositionTypes.Positionable}\r\n */\r\nexport class SvelteApplication extends Application\r\n{\r\n   /**\r\n    * Stores the first mounted component which follows the application shell contract.\r\n    *\r\n    * @type {import('./internal/state-svelte/types').MountedAppShell[] | null[]} Application shell.\r\n    */\r\n   #applicationShellHolder = [null];\r\n\r\n   /**\r\n    * Stores and manages application state for saving / restoring / serializing.\r\n    *\r\n    * @type {ApplicationState}\r\n    */\r\n   #applicationState;\r\n\r\n   /**\r\n    * Stores the target element which may not necessarily be the main element.\r\n    *\r\n    * @type {HTMLElement}\r\n    */\r\n   #elementTarget = null;\r\n\r\n   /**\r\n    * Stores the content element which is set for application shells.\r\n    *\r\n    * @type {HTMLElement}\r\n    */\r\n   #elementContent = null;\r\n\r\n   /**\r\n    * On initial render gating of `setPosition` invoked by `Application._render` occurs, so that percentage values\r\n    * can correctly be positioned with initial helper constraints (centered).\r\n    *\r\n    * @type {boolean}\r\n    */\r\n   #gateSetPosition = false;\r\n\r\n   /**\r\n    * Stores initial z-index from `_renderOuter` to set to target element / Svelte component.\r\n    *\r\n    * @type {number}\r\n    */\r\n   #initialZIndex = 95;\r\n\r\n   /**\r\n    * Stores on mount state which is checked in _render to trigger onSvelteMount callback.\r\n    *\r\n    * @type {boolean}\r\n    */\r\n   #onMount = false;\r\n\r\n   /**\r\n    * The position store.\r\n    *\r\n    * @type {TJSPosition}\r\n    */\r\n   #position;\r\n\r\n   /**\r\n    * Contains the Svelte stores and reactive accessors.\r\n    *\r\n    * @type {SvelteReactive}\r\n    */\r\n   #reactive;\r\n\r\n   /**\r\n    * Stores SvelteData entries with instantiated Svelte components.\r\n    *\r\n    * @type {import('./internal/state-svelte/types').SvelteData[]}\r\n    */\r\n   #svelteData = [];\r\n\r\n   /**\r\n    * Provides a helper class that combines multiple methods for interacting with the mounted components tracked in\r\n    * #svelteData.\r\n    *\r\n    * @type {GetSvelteData}\r\n    */\r\n   #getSvelteData = new GetSvelteData(this.#applicationShellHolder, this.#svelteData);\r\n\r\n   /**\r\n    * Contains methods to interact with the Svelte stores.\r\n    *\r\n    * @type {import('./internal/state-reactive/types-local').SvelteReactiveStores}\r\n    */\r\n   #stores;\r\n\r\n   /**\r\n    * @param {Partial<Options>} [options] - The options for the application.\r\n    */\r\n   constructor(options = {})\r\n   {\r\n      super(options);\r\n\r\n      if (!isObject(this.options.svelte))\r\n      {\r\n         throw new Error(`SvelteApplication - constructor - No Svelte configuration object found in 'options'.`);\r\n      }\r\n\r\n      /** @type {ApplicationState} */\r\n      this.#applicationState = new ApplicationState(this);\r\n\r\n      // Initialize TJSPosition with the position object set by Application.\r\n      this.#position = new TJSPosition(this, {\r\n         ...this.position,\r\n         ...this.options,\r\n         initial: this.options.positionInitial,\r\n         ortho: this.options.positionOrtho,\r\n         validator: this.options.positionValidator\r\n      });\r\n\r\n      // Remove old position field.\r\n      delete this.position;\r\n\r\n      /**\r\n       * Define accessors to retrieve TJSPosition by `this.position`.\r\n       *\r\n       * @member {TJSPosition} position - Adds accessors to SvelteApplication to get / set the position data.\r\n       *\r\n       * @memberof SvelteApplication#\r\n       */\r\n      Object.defineProperty(this, 'position', {\r\n         get: () => this.#position,\r\n         set: (position) => { if (isObject(position)) { this.#position.set(position); } }\r\n      });\r\n\r\n      this.#reactive = new SvelteReactive(this);\r\n\r\n      this.#stores = this.#reactive.initialize();\r\n   }\r\n\r\n   /**\r\n    * Specifies the default options that SvelteApplication supports.\r\n    *\r\n    * @returns {import('./types').SvelteApp.Options} options - Application options.\r\n    * @see https://foundryvtt.com/api/interfaces/client.ApplicationOptions.html\r\n    */\r\n   static get defaultOptions()\r\n   {\r\n      return /** @type {import('./types').SvelteApp.Options} */ deepMerge(super.defaultOptions, {\r\n         defaultCloseAnimation: true,     // If false the default slide close animation is not run.\r\n         draggable: true,                 // If true then application shells are draggable.\r\n         focusAuto: true,                 // When true auto-management of app focus is enabled.\r\n         focusKeep: false,                // When `focusAuto` and `focusKeep` is true; keeps internal focus.\r\n         focusSource: void 0,             // Stores any A11yFocusSource data that is applied when app is closed.\r\n         focusTrap: true,                 // When true focus trapping / wrapping is enabled keeping focus inside app.\r\n         headerButtonNoClose: false,      // If true then the close header button is removed.\r\n         headerButtonNoLabel: false,      // If true then header button labels are removed for application shells.\r\n         headerIcon: void 0,              // Sets a header icon given an image URL.\r\n         headerNoTitleMinimized: false,   // If true then header title is hidden when application is minimized.\r\n         minHeight: MIN_WINDOW_HEIGHT,    // Assigned to position. Number specifying minimum window height.\r\n         minWidth: MIN_WINDOW_WIDTH,      // Assigned to position. Number specifying minimum window width.\r\n         positionable: true,              // If false then `position.set` does not take effect.\r\n         positionInitial: TJSPosition.Initial.browserCentered,      // A helper for initial position placement.\r\n         positionOrtho: true,             // When true TJSPosition is optimized for orthographic use.\r\n         positionValidator: TJSPosition.Validators.transformWindow, // A function providing the default validator.\r\n         sessionStorage: void 0,          // An instance of WebStorage (session) to share across SvelteApplications.\r\n         svelte: void 0,                  // A Svelte configuration object.\r\n         transformOrigin: 'top left'      // By default, 'top / left' respects rotation when minimizing.\r\n      });\r\n   }\r\n\r\n   /**\r\n    * Returns the content element if an application shell is mounted.\r\n    *\r\n    * @returns {HTMLElement} Content element.\r\n    */\r\n   get elementContent() { return this.#elementContent; }\r\n\r\n   /**\r\n    * Returns the target element or main element if no target defined.\r\n    *\r\n    * @returns {HTMLElement} Target element.\r\n    */\r\n   get elementTarget() { return this.#elementTarget; }\r\n\r\n   /**\r\n    * Returns the reactive accessors & Svelte stores for SvelteApplication.\r\n    *\r\n    * @returns {import('./internal/state-reactive/types').SvelteReactive} The reactive accessors & Svelte stores.\r\n    */\r\n   get reactive() { return this.#reactive; }\r\n\r\n   /**\r\n    * Returns the application state manager.\r\n    *\r\n    * @returns {import('./internal/state-app/types').ApplicationState} The application state manager.\r\n    */\r\n   get state() { return this.#applicationState; }\r\n\r\n   /**\r\n    * Returns the Svelte helper class w/ various methods to access mounted Svelte components.\r\n    *\r\n    * @returns {import('./internal/state-svelte/types').GetSvelteData} GetSvelteData\r\n    */\r\n   get svelte() { return this.#getSvelteData; }\r\n\r\n   /**\r\n    * In this case of when a template is defined in app options `html` references the inner HTML / template. However,\r\n    * to activate classic v1 tabs for a Svelte component the element target is passed as an array simulating JQuery as\r\n    * the element is retrieved immediately and the core listeners use standard DOM queries.\r\n    *\r\n    * @protected\r\n    * @ignore\r\n    * @internal\r\n    */\r\n   _activateCoreListeners(html)\r\n   {\r\n      super._activateCoreListeners(typeof this.options.template === 'string' ? html :\r\n       [this.popOut ? this.#elementTarget?.firstChild : this.#elementTarget]);\r\n   }\r\n\r\n   /**\r\n    * Provide an override to set this application as the active window regardless of z-index. Changes behaviour from\r\n    * Foundry core.\r\n    *\r\n    * @param {object} [opts] - Optional parameters.\r\n    *\r\n    * @param {boolean} [opts.focus=true] - When true and the active element is not contained in the app `elementTarget`\r\n    *        is focused..\r\n    *\r\n    * @param {boolean} [opts.force=false] - Force bring to top; will increment z-index by popOut order.\r\n    *\r\n    * @ignore\r\n    * @internal\r\n    */\r\n   bringToTop({ focus = true, force = false } = {})\r\n   {\r\n      // Only perform bring to top when the active window is the main Foundry window instance.\r\n      if (this.reactive.activeWindow !== globalThis) { return; }\r\n\r\n      if (force || this.popOut) { super.bringToTop(); }\r\n\r\n      const elementTarget = this.elementTarget;\r\n      const activeElement = document.activeElement;\r\n\r\n      // If the activeElement is not contained in this app via elementTarget then blur the current active element\r\n      // and make elementTarget focused.\r\n      if (focus && elementTarget && activeElement !== elementTarget && !elementTarget?.contains(activeElement))\r\n      {\r\n         // Blur current active element.\r\n         if (A11yHelper.isFocusTarget(activeElement))\r\n         {\r\n            activeElement.blur();\r\n         }\r\n\r\n         elementTarget?.focus();\r\n      }\r\n\r\n      globalThis.ui.activeWindow = this;\r\n   }\r\n\r\n   /**\r\n    * Note: This method is fully overridden and duplicated as Svelte components need to be destroyed manually and the\r\n    * best visual result is to destroy them after the default slide up animation occurs, but before the element\r\n    * is removed from the DOM.\r\n    *\r\n    * If you destroy the Svelte components before the slide up animation the Svelte elements are removed immediately\r\n    * from the DOM. The purpose of overriding ensures the slide up animation is always completed before\r\n    * the Svelte components are destroyed and then the element is removed from the DOM.\r\n    *\r\n    * Close the application and unregisters references to it within UI mappings.\r\n    * This function returns a Promise which resolves once the window closing animation concludes.\r\n    *\r\n    * @param {object}   [options] - Optional parameters.\r\n    *\r\n    * @param {boolean}  [options.force] - Force close regardless of render state.\r\n    *\r\n    * @returns {Promise<void>}    A Promise which resolves once the application is closed.\r\n    *\r\n    * @ignore\r\n    * @internal\r\n    */\r\n   async close(options = {})\r\n   {\r\n      const states = Application.RENDER_STATES;\r\n\r\n      if (!options.force && ![states.RENDERED, states.ERROR].includes(this._state)) { return; }\r\n\r\n      /**\r\n       * Get the element.\r\n       *\r\n       * @type {HTMLElement}\r\n       */\r\n      const el = this.#elementTarget;\r\n      if (!el)\r\n      {\r\n         /**\r\n          * @ignore\r\n          * @internal\r\n          */\r\n         this._state = states.CLOSED;\r\n\r\n         return;\r\n      }\r\n\r\n      // Support for PopOut! module; `close` is double invoked; once before the element is rejoined to the main window.\r\n      // Reject close invocations when the element window is not the main originating window / globalThis.\r\n      if (CrossWindow.getWindow(el, { throws: false }) !== globalThis) { return; }\r\n\r\n      /**\r\n       * @ignore\r\n       * @internal\r\n       */\r\n      this._state = states.CLOSING;\r\n\r\n      // Unsubscribe from any local stores.\r\n      this.#stores.unsubscribe();\r\n\r\n      // Make any window content overflow hidden to avoid any scrollbars appearing in default or Svelte outro\r\n      // transitions.\r\n      const content = el.querySelector('.window-content');\r\n      if (content)\r\n      {\r\n         content.style.overflow = 'hidden';\r\n\r\n         // Set all children of content to overflow hidden as if there is going to be additional scrolling elements\r\n         // they are likely one level deep.\r\n         for (let cntr = content.children.length; --cntr >= 0;)\r\n         {\r\n            content.children[cntr].style.overflow = 'hidden';\r\n         }\r\n      }\r\n\r\n      // Dispatch Hooks for closing the base and subclass applications\r\n      for (const cls of this.constructor._getInheritanceChain())\r\n      {\r\n         /**\r\n          * A hook event that fires whenever this Application is closed.\r\n          *\r\n          * Note: JQuery wrapping as Foundry event arguments uses JQuery.\r\n          */\r\n         Hooks.call(`close${cls.name}`, this, $(el));\r\n      }\r\n\r\n      // If options `defaultCloseAnimation` is false then do not execute the standard slide up animation.\r\n      // This allows Svelte components to provide any out transition. Application shells will automatically set\r\n      // `defaultCloseAnimation` based on any out transition set or unset.\r\n      const animate = typeof this.options.defaultCloseAnimation === 'boolean' ? this.options.defaultCloseAnimation :\r\n       true;\r\n\r\n      if (animate)\r\n      {\r\n         // Set min height for full slide.\r\n         el.style.minHeight = '0';\r\n\r\n         const { paddingBottom, paddingTop } = globalThis.getComputedStyle(el);\r\n\r\n         // Slide-up application.\r\n         await el.animate([\r\n            { maxHeight: `${el.clientHeight}px`, paddingTop, paddingBottom },\r\n            { maxHeight: 0, paddingTop: 0, paddingBottom: 0 }\r\n         ], { duration: 250, easing: 'ease-in', fill: 'forwards' }).finished;\r\n      }\r\n\r\n      // Stores the Promises returned from running outro transitions and destroying each Svelte component.\r\n      const svelteDestroyPromises = [];\r\n\r\n      // Manually invoke the destroy callbacks for all Svelte components.\r\n      for (const entry of this.#svelteData)\r\n      {\r\n         // Use `outroAndDestroy` to run outro transitions before destroying.\r\n         svelteDestroyPromises.push(TJSSvelteUtil.outroAndDestroy(entry.component));\r\n\r\n         // If any proxy eventbus has been added then remove all event registrations from the component.\r\n         const eventbus = entry.config.eventbus;\r\n         if (isObject(eventbus) && typeof eventbus.off === 'function')\r\n         {\r\n            eventbus.off();\r\n            entry.config.eventbus = void 0;\r\n         }\r\n      }\r\n\r\n      // Await all Svelte components to destroy.\r\n      await Promise.allSettled(svelteDestroyPromises);\r\n\r\n      // Remove from all visible apps tracked.\r\n      TJSAppIndex.delete(this);\r\n\r\n      // Reset SvelteData like this to maintain reference to GetSvelteData / `this.svelte`.\r\n      this.#svelteData.length = 0;\r\n\r\n      // Remove element from the DOM. Most SvelteComponents have already removed it.\r\n      el.remove();\r\n\r\n      // Silently restore any width / height state before minimized as applicable.\r\n      this.position.state.restore({\r\n         name: '#beforeMinimized',\r\n         properties: ['width', 'height'],\r\n         silent: true,\r\n         remove: true\r\n      });\r\n\r\n      // Clean up data\r\n      this.#applicationShellHolder[0] = null;\r\n\r\n      /**\r\n       * @ignore\r\n       * @internal\r\n       */\r\n      this._element = null;\r\n      this.#elementContent = null;\r\n      this.#elementTarget = null;\r\n\r\n      delete globalThis.ui.windows[this.appId];\r\n\r\n      /**\r\n       * @ignore\r\n       * @internal\r\n       */\r\n      this._minimized = false;\r\n\r\n      /**\r\n       * @ignore\r\n       * @internal\r\n       */\r\n      this._scrollPositions = null;\r\n\r\n      /**\r\n       * @ignore\r\n       * @internal\r\n       */\r\n      this._state = states.CLOSED;\r\n\r\n      this.#onMount = false;\r\n\r\n      // Update the minimized UI store state.\r\n      this.#stores.uiStateUpdate((storeOptions) => deepMerge(storeOptions, { minimized: this._minimized }));\r\n\r\n      // Apply any stored focus options and then remove them from options.\r\n      A11yHelper.applyFocusSource(this.options.focusSource);\r\n\r\n      delete this.options.focusSource;\r\n   }\r\n\r\n   /**\r\n    * Inject the Svelte components defined in `this.options.svelte`. The Svelte component can attach to the existing\r\n    * pop-out of Application or provide no template and render into a document fragment which is then attached to the\r\n    * DOM.\r\n    *\r\n    * @protected\r\n    * @ignore\r\n    * @internal\r\n    */\r\n   _injectHTML()\r\n   {\r\n      // Make sure the store is updated with the latest header buttons. Also allows filtering buttons before display.\r\n      this.reactive.updateHeaderButtons();\r\n\r\n      // Create a function to generate a callback for Svelte components to invoke to update the tracked elements for\r\n      // application shells in the rare cases that the main element root changes. The update is only triggered on\r\n      // successive changes of `elementRoot`. Returns a boolean to indicate the element roots are updated.\r\n      const elementRootUpdate = () =>\r\n      {\r\n         let cntr = 0;\r\n\r\n         return (elementRoot) =>\r\n         {\r\n            if (elementRoot !== null && elementRoot !== void 0 && cntr++ > 0)\r\n            {\r\n               this.#updateApplicationShell();\r\n               return true;\r\n            }\r\n\r\n            return false;\r\n         };\r\n      };\r\n\r\n      // A sanity check; absence should be detected in constructor.\r\n      if (!isObject(this.options.svelte))\r\n      {\r\n         throw new Error(`SvelteApplication - _injectHTML - No Svelte configuration object found in 'options'.`);\r\n      }\r\n\r\n      const svelteData = loadSvelteConfig({\r\n         app: this,\r\n         config: this.options.svelte,\r\n         elementRootUpdate\r\n      });\r\n\r\n      // A sanity check as shouldn't hit this case as only one component is being mounted.\r\n      if (this.svelte.applicationShell !== null)\r\n      {\r\n         throw new Error(\r\n          `SvelteApplication - _injectHTML - An application shell is already mounted; offending config:\\n` +\r\n           `${JSON.stringify(this.options.svelte)}`);\r\n      }\r\n\r\n      this.#applicationShellHolder[0] = svelteData.component;\r\n\r\n      // If Vite / HMR / svelte_hmr is enabled then add a hook to receive callbacks when the ProxyComponent\r\n      // refreshes. Update the element root accordingly and force an update to TJSPosition.\r\n      // See this issue for info about `on_hmr`:\r\n      // https://github.com/sveltejs/svelte-hmr/issues/57\r\n      if (TJSSvelteUtil.isHMRProxy(svelteData.component) && Array.isArray(svelteData.component?.$$?.on_hmr))\r\n      {\r\n         svelteData.component.$$.on_hmr.push(() => () => this.#updateApplicationShell());\r\n      }\r\n\r\n      this.#svelteData.push(svelteData);\r\n\r\n      // Wrap `elementRoot` as a JQuery object and set to AppV1 / Application element.\r\n      this._element = $(this.svelte.applicationShell.elementRoot);\r\n\r\n      // Detect if the application shell exports an `elementContent` accessor.\r\n      this.#elementContent = hasGetter(this.svelte.applicationShell, 'elementContent') ?\r\n       this.svelte.applicationShell.elementContent : null;\r\n\r\n      // Detect if the application shell exports an `elementTarget` accessor if not set `elementTarget` to\r\n      // `elementRoot`.\r\n      this.#elementTarget = hasGetter(this.svelte.applicationShell, 'elementTarget') ?\r\n       this.svelte.applicationShell.elementTarget : this.svelte.applicationShell.elementRoot;\r\n\r\n      // The initial zIndex may be set in application options or for popOut applications is stored by `_renderOuter`\r\n      // in `this.#initialZIndex`.\r\n      if (typeof this.options.positionable === 'boolean' && this.options.positionable)\r\n      {\r\n         this.#elementTarget.style.zIndex = typeof this.options.zIndex === 'number' ? this.options.zIndex :\r\n          this.#initialZIndex ?? 95;\r\n      }\r\n\r\n      // Subscribe to local store handling.\r\n      this.#stores.subscribe();\r\n   }\r\n\r\n   /**\r\n    * Provides a mechanism to update the UI options store for maximized.\r\n    *\r\n    * Note: the sanity check is duplicated from {@link Application.maximize} the store is updated _before_\r\n    * performing the rest of animations. This allows application shells to remove / show any resize handlers\r\n    * correctly. Extra constraint data is stored in a saved position state in {@link SvelteApplication.minimize}\r\n    * to animate the content area.\r\n    *\r\n    * @param {object}   [opts] - Optional parameters.\r\n    *\r\n    * @param {boolean}  [opts.animate=true] - When true perform default maximizing animation.\r\n    *\r\n    * @param {number}   [opts.duration=0.1] - Controls content area animation duration in seconds.\r\n    */\r\n   async maximize({ animate = true, duration = 0.1 } = {})\r\n   {\r\n      if (!this.popOut || [false, null].includes(this._minimized)) { return; }\r\n\r\n      this._minimized = null;\r\n\r\n      const durationMS = duration * 1000; // For WAAPI.\r\n\r\n      // Get content\r\n      const element = this.elementTarget;\r\n      const header = element.querySelector('.window-header');\r\n      const content = element.querySelector('.window-content');\r\n\r\n      // Get the complete position before minimized. Used to reset min width & height to initial values later.\r\n      const positionBefore = this.position.state.get({ name: '#beforeMinimized' });\r\n\r\n      // First animate / restore width / async.\r\n      if (animate)\r\n      {\r\n         await this.position.state.restore({\r\n            name: '#beforeMinimized',\r\n            async: true,\r\n            animateTo: true,\r\n            properties: ['width'],\r\n            duration: 0.1\r\n         });\r\n      }\r\n\r\n      element.classList.remove('minimized');\r\n\r\n      // Reset display none on all children of header.\r\n      for (let cntr = header.children.length; --cntr >= 0;) { header.children[cntr].style.display = null; }\r\n\r\n      content.style.display = null;\r\n\r\n      let constraints;\r\n\r\n      if (animate)\r\n      {\r\n         // Next animate / restore height synchronously and remove key. Retrieve constraints data for slide up animation\r\n         // below.\r\n         ({ constraints } = this.position.state.restore({\r\n            name: '#beforeMinimized',\r\n            animateTo: true,\r\n            properties: ['height'],\r\n            remove: true,\r\n            duration\r\n         }));\r\n      }\r\n      else\r\n      {\r\n         ({ constraints } = this.position.state.remove({ name: '#beforeMinimized' }));\r\n      }\r\n\r\n      // Slide down content with stored constraints.\r\n      await content.animate([\r\n         { maxHeight: 0, paddingTop: 0, paddingBottom: 0, offset: 0 },\r\n         { ...constraints, offset: 1 },\r\n         { maxHeight: '100%', offset: 1 },\r\n      ], { duration: durationMS, fill: 'forwards' }).finished; // WAAPI in ms.\r\n\r\n      // Restore previous min width & height from saved data, app options, or default Foundry values.\r\n      this.position.set({\r\n         minHeight: positionBefore.minHeight ?? this.options?.minHeight ?? MIN_WINDOW_HEIGHT,\r\n         minWidth: positionBefore.minWidth ?? this.options?.minWidth ?? MIN_WINDOW_WIDTH,\r\n      });\r\n\r\n      // Remove inline styles that override any styles assigned to the app.\r\n      element.style.minWidth = null;\r\n      element.style.minHeight = null;\r\n\r\n      this._minimized = false;\r\n\r\n      // Using a 50ms timeout prevents any instantaneous display of scrollbars with the above maximize animation.\r\n      setTimeout(() =>\r\n      {\r\n         content.style.overflow = null;\r\n\r\n         // Reset all children of content removing overflow hidden.\r\n         for (let cntr = content.children.length; --cntr >= 0;)\r\n         {\r\n            content.children[cntr].style.overflow = null;\r\n         }\r\n      }, 50);\r\n\r\n      this.#stores.uiStateUpdate((options) => deepMerge(options, { minimized: false }));\r\n   }\r\n\r\n   /**\r\n    * Provides a mechanism to update the UI options store for minimized.\r\n    *\r\n    * Note: the sanity check is duplicated from {@link Application.minimize} the store is updated _before_\r\n    * performing the rest of animations. This allows application shells to remove / show any resize handlers\r\n    * correctly. Extra constraint data is stored in a saved position state in {@link SvelteApplication.minimize}\r\n    * to animate the content area.\r\n    *\r\n    * @param {object}   [opts] - Optional parameters.\r\n    *\r\n    * @param {boolean}  [opts.animate=true] - When true perform default minimizing animation.\r\n    *\r\n    * @param {number}   [opts.duration=0.1] - Controls content area animation duration in seconds.\r\n    */\r\n   async minimize({ animate = true, duration = 0.1 } = {})\r\n   {\r\n      if (!this.rendered || !this.popOut || [true, null].includes(this._minimized)) { return; }\r\n\r\n      this.#stores.uiStateUpdate((options) => deepMerge(options, { minimized: true }));\r\n\r\n      this._minimized = null;\r\n\r\n      const durationMS = duration * 1000; // For WAAPI.\r\n\r\n      const element = this.elementTarget;\r\n\r\n      // Get content\r\n      const header = element.querySelector('.window-header');\r\n      const content = element.querySelector('.window-content');\r\n\r\n      // Save current max / min height & width.\r\n      const beforeMinWidth = this.position.minWidth;\r\n      const beforeMinHeight = this.position.minHeight;\r\n\r\n      // Set minimized min width & height for header bar.\r\n      this.position.set({ minWidth: 100, minHeight: 30 });\r\n\r\n      // Also set inline styles to override any styles scoped to the app.\r\n      element.style.minWidth = '100px';\r\n      element.style.minHeight = '30px';\r\n\r\n      if (content)\r\n      {\r\n         content.style.overflow = 'hidden';\r\n\r\n         // Set all children of content to overflow hidden as if there is going to be additional scrolling elements\r\n         // they are likely one level deep.\r\n         for (let cntr = content.children.length; --cntr >= 0;)\r\n         {\r\n            content.children[cntr].style.overflow = 'hidden';\r\n         }\r\n      }\r\n\r\n      const { paddingBottom, paddingTop } = globalThis.getComputedStyle(content);\r\n\r\n      // Extra data that is saved with the current position. Used during `maximize`.\r\n      const constraints = {\r\n         maxHeight: `${content.clientHeight}px`,\r\n         paddingTop,\r\n         paddingBottom\r\n      };\r\n\r\n      // Slide-up content\r\n      if (animate)\r\n      {\r\n         const animation = content.animate([\r\n            constraints,\r\n            { maxHeight: 0, paddingTop: 0, paddingBottom: 0 }\r\n         ], { duration: durationMS, fill: 'forwards' }); // WAAPI in ms.\r\n\r\n         // Set display style to none when animation finishes.\r\n         animation.finished.then(() => content.style.display = 'none');\r\n      }\r\n      else\r\n      {\r\n         setTimeout(() => content.style.display = 'none', durationMS);\r\n      }\r\n\r\n      // Save current position state and add the constraint data to use in `maximize`.\r\n      const saved = this.position.state.save({ name: '#beforeMinimized', constraints });\r\n\r\n      // Set the initial before min width & height.\r\n      saved.minWidth = beforeMinWidth;\r\n      saved.minHeight = beforeMinHeight;\r\n\r\n      const headerOffsetHeight = header.offsetHeight;\r\n\r\n      // minHeight needs to be adjusted to header height.\r\n      this.position.minHeight = headerOffsetHeight;\r\n\r\n      if (animate)\r\n      {\r\n         // First await animation of height upward.\r\n         await this.position.animate.to({ height: headerOffsetHeight }, { duration }).finished;\r\n      }\r\n\r\n      // Set all header buttons besides close and the window title to display none.\r\n      for (let cntr = header.children.length; --cntr >= 0;)\r\n      {\r\n         const className = header.children[cntr].className;\r\n\r\n         if (className.includes('window-title') || className.includes('close')) { continue; }\r\n\r\n         // v10+ of Foundry core styles automatically hides anything besides the window title and close button, so\r\n         // explicitly set display to block.\r\n         if (className.includes('keep-minimized'))\r\n         {\r\n            header.children[cntr].style.display = 'block';\r\n            continue;\r\n         }\r\n\r\n         header.children[cntr].style.display = 'none';\r\n      }\r\n\r\n      if (animate)\r\n      {\r\n         // Await animation of width to the left / minimum width.\r\n         await this.position.animate.to({ width: MIN_WINDOW_WIDTH }, { duration: 0.1 }).finished;\r\n      }\r\n\r\n      element.classList.add('minimized');\r\n\r\n      this._minimized = true;\r\n   }\r\n\r\n   /**\r\n    * Provides a callback after all Svelte components are initialized.\r\n    *\r\n    * @param {import('./internal/state-svelte/types').MountedAppShell} [mountedAppShell] - The mounted app shell\r\n    *        elements.\r\n    */\r\n   onSvelteMount(mountedAppShell) {} // eslint-disable-line no-unused-vars\r\n\r\n   /**\r\n    * Provides a callback after the main application shell is remounted. This may occur during HMR / hot module\r\n    * replacement or directly invoked from the `elementRootUpdate` callback passed to the application shell component\r\n    * context.\r\n    *\r\n    * @param {import('./internal/state-svelte/types').MountedAppShell} [mountedAppShell] - The mounted app shell\r\n    *        elements.\r\n    */\r\n   onSvelteRemount(mountedAppShell) {} // eslint-disable-line no-unused-vars\r\n\r\n   /**\r\n    * Override replacing HTML as Svelte components control the rendering process. Only potentially change the outer\r\n    * application frame / title for pop-out applications.\r\n    *\r\n    * @protected\r\n    * @ignore\r\n    * @internal\r\n    */\r\n   _replaceHTML(element, html)  // eslint-disable-line no-unused-vars\r\n   {\r\n      if (!element.length) { return; }\r\n\r\n      this.reactive.updateHeaderButtons();\r\n   }\r\n\r\n   /**\r\n    * Provides an override verifying that a new Application being rendered for the first time doesn't have a\r\n    * corresponding DOM element already loaded. This is a check that only occurs when `this._state` is\r\n    * `Application.RENDER_STATES.NONE`. It is useful in particular when SvelteApplication has a static ID\r\n    * explicitly set in `this.options.id` and long intro / outro transitions are assigned. If a new application\r\n    * sharing this static ID attempts to open / render for the first time while an existing DOM element sharing\r\n    * this static ID exists then the initial render is cancelled below rather than crashing later in the render\r\n    * cycle {@link TJSPosition.set}.\r\n    *\r\n    * @protected\r\n    * @ignore\r\n    * @internal\r\n    */\r\n   async _render(force = false, options = {})\r\n   {\r\n      // Store any focusSource instance.\r\n      if (isObject(options?.focusSource)) { this.options.focusSource = options.focusSource; }\r\n\r\n      const activeWindow = this.reactive.activeWindow;\r\n\r\n      try\r\n      {\r\n         if (this._state === Application.RENDER_STATES.NONE &&\r\n          A11yHelper.isFocusTarget(activeWindow.document.querySelector(`#${this.id}`)))\r\n         {\r\n            console.warn(`SvelteApplication - _render: A DOM element already exists for CSS ID '${this.id\r\n             }'. Cancelling initial render for new application with appId '${this.appId}'.`);\r\n\r\n            return;\r\n         }\r\n      }\r\n      catch (err)\r\n      {\r\n         console.warn(`SvelteApplication - _render: Potentially malformed application ID '${this.id\r\n          }'. Cancelling initial render for new application with appId '${this.appId}'.`);\r\n\r\n         return;\r\n      }\r\n\r\n      // On initial render gating of `setPosition` invoked by `Application._render` occurs, so that percentage values\r\n      // can correctly be positioned with initial helper constraints (centered).\r\n      this.#gateSetPosition = true;\r\n\r\n      await super._render(force, options);\r\n\r\n      this.#gateSetPosition = false;\r\n\r\n      // Handle the same render exclusion tests that reject a render in Application.\r\n\r\n      // Do not render under certain conditions.\r\n      if ([Application.RENDER_STATES.CLOSING, Application.RENDER_STATES.RENDERING].includes(this._state)) { return; }\r\n\r\n      // Applications which are not currently rendered must be forced.\r\n      if (!force && (this._state <= Application.RENDER_STATES.NONE)) { return; }\r\n\r\n      // It is necessary to directly invoke `position.set` as TJSPosition uses accessors and is not a bare object, so\r\n      // the merging that occurs in `Application._render` does not take effect. Additionally, any of the main\r\n      // positional properties that are defined as strings such as percentage values need to be set after the element\r\n      // is mounted.\r\n      if (!this._minimized)\r\n      {\r\n         this.#position.set({\r\n            left: typeof this.options?.left === 'string' ? this.options.left : void 0,\r\n            height: typeof this.options?.height === 'string' ? this.options.height : void 0,\r\n            maxHeight: typeof this.options?.maxHeight === 'string' ? this.options.maxHeight : void 0,\r\n            maxWidth: typeof this.options?.maxWidth === 'string' ? this.options.maxWidth : void 0,\r\n            minHeight: typeof this.options?.minHeight === 'string' ? this.options.minHeight : void 0,\r\n            minWidth: typeof this.options?.minWidth === 'string' ? this.options.minWidth : void 0,\r\n            rotateX: typeof this.options?.rotateX === 'string' ? this.options.rotateX : void 0,\r\n            rotateY: typeof this.options?.rotateY === 'string' ? this.options.rotateY : void 0,\r\n            rotateZ: typeof this.options?.rotateZ === 'string' ? this.options.rotateZ : void 0,\r\n            rotation: typeof this.options?.rotation === 'string' ? this.options.rotation : void 0,\r\n            top: typeof this.options?.top === 'string' ? this.options.top : void 0,\r\n            width: typeof this.options?.width === 'string' ? this.options.width : void 0,\r\n\r\n            ...options\r\n         });\r\n      }\r\n\r\n      if (!this.#onMount)\r\n      {\r\n         // Add to visible apps tracked.\r\n         TJSAppIndex.add(this);\r\n\r\n         this.onSvelteMount({\r\n            elementRoot: /** @type {HTMLElement} */ this._element[0],\r\n            elementContent: this.#elementContent,\r\n            elementTarget: this.#elementTarget\r\n         });\r\n\r\n         this.#onMount = true;\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Render the inner application content. Provide an empty JQuery element per the core Foundry API.\r\n    *\r\n    * @protected\r\n    * @ignore\r\n    * @internal\r\n    */\r\n   async _renderInner()\r\n   {\r\n      const activeWindow = this.reactive.activeWindow;\r\n\r\n      const html = activeWindow.document.createDocumentFragment();\r\n\r\n      return $(html);\r\n   }\r\n\r\n   /**\r\n    * Stores the initial z-index set in `_renderOuter` which is used in `_injectHTML` to set the target element\r\n    * z-index after the Svelte component is mounted.\r\n    *\r\n    * @protected\r\n    * @ignore\r\n    * @internal\r\n    */\r\n   async _renderOuter()\r\n   {\r\n      const html = await super._renderOuter();\r\n      this.#initialZIndex = html[0].style.zIndex;\r\n      return html;\r\n   }\r\n\r\n   /**\r\n    * All calculation and updates of position are implemented in {@link #runtime/svelte/store/position!TJSPosition.set}.\r\n    * This allows position to be fully reactive and in control of updating inline styles for the application.\r\n    *\r\n    * This method remains for backward compatibility with Foundry. If you have a custom override quite likely you need\r\n    * to update to using the {@link TJSPosition.validators} / ValidatorAPI functionality.\r\n    *\r\n    * @param {import('#runtime/svelte/store/position').Data.TJSPositionDataRelative}   [position] - TJSPosition data.\r\n    *\r\n    * @returns {TJSPosition} The updated position object for the application containing the new values.\r\n    * @ignore\r\n    */\r\n   setPosition(position)\r\n   {\r\n      return !this.#gateSetPosition ? this.position.set(position) : this.position;\r\n   }\r\n\r\n   /**\r\n    * This method is invoked by the `elementRootUpdate` callback that is added to the external context passed to\r\n    * Svelte components. When invoked it updates the local element roots tracked by SvelteApplication.\r\n    *\r\n    * This method may also be invoked by HMR / hot module replacement via `svelte-hmr`.\r\n    */\r\n   #updateApplicationShell()\r\n   {\r\n      const applicationShell = this.svelte.applicationShell;\r\n\r\n      if (applicationShell !== null)\r\n      {\r\n         this._element = $(applicationShell.elementRoot);\r\n\r\n         // Detect if the application shell exports an `elementContent` accessor.\r\n         this.#elementContent = hasGetter(applicationShell, 'elementContent') ?\r\n          applicationShell.elementContent : null;\r\n\r\n         // Detect if the application shell exports an `elementTarget` accessor.\r\n         this.#elementTarget = hasGetter(applicationShell, 'elementTarget') ?\r\n          applicationShell.elementTarget : null;\r\n\r\n         if (this.#elementTarget === null)\r\n         {\r\n            this.#elementTarget = typeof this.options.selectorTarget === 'string' ?\r\n             this._element[0].querySelector(this.options.selectorTarget) : this._element[0];\r\n         }\r\n\r\n         // The initial zIndex may be set in application options or for popOut applications is stored by `_renderOuter`\r\n         // in `this.#initialZIndex`.\r\n         if (typeof this.options.positionable === 'boolean' && this.options.positionable)\r\n         {\r\n            this.#elementTarget.style.zIndex = typeof this.options.zIndex === 'number' ? this.options.zIndex :\r\n             this.#initialZIndex ?? 95;\r\n\r\n            super.bringToTop();\r\n\r\n            // Ensure that new root element has inline position styles set.\r\n            this.position.set(this.position.get());\r\n         }\r\n\r\n         super._activateCoreListeners([this.popOut ? this.#elementTarget?.firstChild : this.#elementTarget]);\r\n\r\n         this.onSvelteRemount({\r\n            elementRoot: /** @type {HTMLElement} */ this._element[0],\r\n            elementContent: this.#elementContent,\r\n            elementTarget: this.#elementTarget\r\n         });\r\n      }\r\n   }\r\n}\r\n","import { SvelteApplication } from '../SvelteApplication.js';\r\n\r\n/**\r\n * Handle `PopOut!` module hooks to allow applications to popout to their own browser window.\r\n */\r\nexport class PopoutSupport\r\n{\r\n   static initialize()\r\n   {\r\n      Hooks.on('PopOut:loading', (app, popout) =>\r\n      {\r\n         if (app instanceof SvelteApplication)\r\n         {\r\n            // Disable app position system.\r\n            app.position.enabled = false;\r\n\r\n            // Save current `headerButtonNoClose` state.\r\n            app.state.save({\r\n               name: '#beforePopout',\r\n               headerButtonNoClose: app.reactive.headerButtonNoClose\r\n            });\r\n\r\n            // Set the apps active window to the popout browser window.\r\n            app.reactive.activeWindow = popout;\r\n\r\n            // Disable the close button.\r\n            app.reactive.headerButtonNoClose = true;\r\n         }\r\n      });\r\n\r\n      Hooks.on('PopOut:popin', (app) => this.#handleRejoin(app));\r\n      Hooks.on('PopOut:close', (app) => this.#handleRejoin(app));\r\n   }\r\n\r\n   /**\r\n    * Handles rejoining the app to main browser window.\r\n    *\r\n    * @param {Application} app - The target app.\r\n    */\r\n   static #handleRejoin(app)\r\n   {\r\n      if (app instanceof SvelteApplication)\r\n      {\r\n         // Enable the app position system.\r\n         app.position.enabled = true;\r\n\r\n         // Restore the initial header button no close state.\r\n         const beforeData = app.state.remove({ name: '#beforePopout' });\r\n         if (beforeData) { app.reactive.headerButtonNoClose = beforeData?.headerButtonNoClose ?? false; }\r\n\r\n         // Reset the apps active window to the main `globalThis` reference.\r\n         app.reactive.activeWindow = void 0;\r\n      }\r\n   }\r\n}\r\n","import {\r\n   deepMerge,\r\n   isObject,\r\n   klona,\r\n   safeAccess,\r\n   safeSet }   from '#runtime/util/object';\r\n\r\n/**\r\n * Provides storage for all dialog options through individual accessors and `get`, `merge`, `replace` and `set` methods\r\n * that safely access and update data changed to the mounted DialogShell component reactively.\r\n */\r\nexport class TJSDialogData\r\n{\r\n   /**\r\n    * @type {import('../../index.js').SvelteApplication}\r\n    */\r\n   #application;\r\n\r\n   /**\r\n    * Stores the dialog options data.\r\n    *\r\n    * @type {import('./types').TJSDialogOptions}\r\n    */\r\n   #internal = {};\r\n\r\n   /**\r\n    * @param {import('../../index.js').SvelteApplication} application - The host Foundry application.\r\n    */\r\n   constructor(application)\r\n   {\r\n      this.#application = application;\r\n\r\n      Object.seal(this);\r\n   }\r\n\r\n   /**\r\n    * @returns {{ [key: string]: import('./types').TJSDialogButtonData }} The dialog button configuration.\r\n    */\r\n   get buttons()\r\n   {\r\n      return this.#internal.buttons;\r\n   }\r\n\r\n   /**\r\n    * Set the dialog button configuration.\r\n    *\r\n    * @param {string} buttons - New dialog button configuration.\r\n    */\r\n   set buttons(buttons)\r\n   {\r\n      this.#internal.buttons = buttons;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {import('#runtime/svelte/util').TJSSvelteConfig | string} The Svelte configuration object or HTML string\r\n    *          content.\r\n    */\r\n   get content()\r\n   {\r\n      return this.#internal.content;\r\n   }\r\n\r\n   /**\r\n    * Set the Svelte configuration object or HTML string content.\r\n    *\r\n    * @param {import('#runtime/svelte/util').TJSSvelteConfig | string} content - New Svelte configuration object or\r\n    *        HTML string content.\r\n    */\r\n   set content(content)\r\n   {\r\n      this.#internal.content = content;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {string} The default button ID to focus initially.\r\n    */\r\n   get default()\r\n   {\r\n      return this.#internal.default;\r\n   }\r\n\r\n   /**\r\n    * Set the default button ID to focus initially.\r\n    *\r\n    * @param {string} newDefault - New default button ID to focus initially.\r\n    */\r\n   set default(newDefault)\r\n   {\r\n      this.#internal.default = newDefault;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {boolean} The dialog draggable state; draggable when true.\r\n    */\r\n   get draggable()\r\n   {\r\n      return this.#internal.draggable;\r\n   }\r\n\r\n   /**\r\n    * Set the dialog state; draggable when true.\r\n    *\r\n    * @param {boolean} draggable - New dialog draggable state; draggable when true.\r\n    */\r\n   set draggable(draggable)\r\n   {\r\n      this.#internal.draggable = draggable;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {boolean} When true auto-management of app focus is enabled.\r\n    */\r\n   get focusAuto()\r\n   {\r\n      return this.#internal.focusAuto;\r\n   }\r\n\r\n   /**\r\n    * Set the dialog auto-management of app focus.\r\n    *\r\n    * @param {boolean} focusAuto - New dialog auto-management of app focus.\r\n    */\r\n   set focusAuto(focusAuto)\r\n   {\r\n      this.#internal.focusAuto = focusAuto;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {boolean} When true the first focusable element that isn't a button is focused.\r\n    */\r\n   get focusFirst()\r\n   {\r\n      return this.#internal.focusFirst;\r\n   }\r\n\r\n   /**\r\n    * Set the dialog first focusable element state.\r\n    *\r\n    * @param {boolean} focusFirst - New dialog first focusable element state.\r\n    */\r\n   set focusFirst(focusFirst)\r\n   {\r\n      this.#internal.focusFirst = focusFirst;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {boolean} When `focusAuto` and `focusKeep` is true; keeps internal focus.\r\n    */\r\n   get focusKeep()\r\n   {\r\n      return this.#internal.focusKeep;\r\n   }\r\n\r\n   /**\r\n    * Set the dialog `focusKeep` state. When `focusAuto` and `focusKeep` is true; keeps internal focus.\r\n    *\r\n    * @param {boolean} focusKeep - New dialog `focusKeep` state.\r\n    */\r\n   set focusKeep(focusKeep)\r\n   {\r\n      this.#internal.focusKeep = focusKeep;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {boolean} When true the dialog is minimizable.\r\n    */\r\n   get minimizable()\r\n   {\r\n      return this.#internal.minimizable;\r\n   }\r\n\r\n   /**\r\n    * Set the dialog `minimizable` state. When true the dialog is minimizable.\r\n    *\r\n    * @param {boolean} minimizable - New dialog `minimizable` state.\r\n    */\r\n   set minimizable(minimizable)\r\n   {\r\n      this.#internal.minimizable = minimizable;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {boolean} When true a modal dialog is displayed.\r\n    */\r\n   get modal()\r\n   {\r\n      return this.#internal.modal;\r\n   }\r\n\r\n   /**\r\n    * Set the dialog `modal` state. When true a modal dialog is displayed.\r\n    *\r\n    * @param {boolean} modal - New dialog `modal` state.\r\n    */\r\n   set modal(modal)\r\n   {\r\n      this.#internal.modal = modal;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {import('./types').TJSDialogModalOptions} Additional options for modal dialog display.\r\n    */\r\n   get modalOptions()\r\n   {\r\n      return this.#internal.modalOptions;\r\n   }\r\n\r\n   /**\r\n    * Set additional options for modal dialog display.\r\n    *\r\n    * @param {import('./types').TJSDialogModalOptions} modalOptions - New additional options for modal dialog display.\r\n    */\r\n   set modalOptions(modalOptions)\r\n   {\r\n      this.#internal.modalOptions = modalOptions;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {boolean} When true and an error is raised in dialog callback functions post a UI error notification.\r\n    */\r\n   get notifyError()\r\n   {\r\n      return this.#internal.notifyError;\r\n   }\r\n\r\n   /**\r\n    * Set the dialog `notifyError` state. When true and an error is raised in dialog callback functions post a UI error\r\n    * notification.\r\n    *\r\n    * @param {boolean} notifyError - New dialog `notifyError` state.\r\n    */\r\n   set notifyError(notifyError)\r\n   {\r\n      this.#internal.notifyError = notifyError;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {string | ((data?: { application?: import('../../index.js').TJSDialog }) => any)} Callback invoked when\r\n    *          dialog is closed; no button option selected. When defined as a string any matching function by name\r\n    *          exported from content Svelte component is invoked.\r\n    */\r\n   get onClose()\r\n   {\r\n      return this.#internal.onClose;\r\n   }\r\n\r\n   /**\r\n    * Set callback invoked when dialog is closed; no button option selected. When defined as a string any matching\r\n    * function by name exported from content Svelte component is invoked..\r\n    *\r\n    * @param {string | ((data?: { application?: import('../../index.js').TJSDialog }) => any)} onClose - New dialog\r\n    *        `onClose` state.\r\n    */\r\n   set onClose(onClose)\r\n   {\r\n      this.#internal.onClose = onClose;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {boolean} Dialog `rejectClose` state. When true and a Promise has been created by {@link TJSDialog.wait}\r\n    *          and the Promise is not in the process of being resolved or rejected on close of the dialog any `onClose`\r\n    *          function is invoked and any result that is undefined will cause the Promise to then be rejected..\r\n    */\r\n   get rejectClose()\r\n   {\r\n      return this.#internal.rejectClose;\r\n   }\r\n\r\n   /**\r\n    * Set the dialog `rejectClose` state.\r\n    *\r\n    * @param {boolean} rejectClose - New dialog `rejectClose` state.\r\n    */\r\n   set rejectClose(rejectClose)\r\n   {\r\n      this.#internal.rejectClose = rejectClose;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {boolean} When true the dialog is resizable.\r\n    */\r\n   get resizable()\r\n   {\r\n      return this.#internal.resizable;\r\n   }\r\n\r\n   /**\r\n    * Set the dialog `resizable` state. When true the dialog is resizable.\r\n    *\r\n    * @param {boolean} resizable - New dialog `resizable` state.\r\n    */\r\n   set resizable(resizable)\r\n   {\r\n      this.#internal.resizable = resizable;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {boolean} When true and resolving any Promises and there are undefined results from any button callbacks\r\n    *          the button ID is resolved.\r\n    */\r\n   get resolveId()\r\n   {\r\n      return this.#internal.resolveId;\r\n   }\r\n\r\n   /**\r\n    * Set the dialog `resolveId` state. When true and resolving any Promises and there are undefined results from any\r\n    * button callbacks the button ID is resolved.\r\n    *\r\n    * @param {boolean} resolveId - New dialog `resolveId` state.\r\n    */\r\n   set resolveId(resolveId)\r\n   {\r\n      this.#internal.resolveId = resolveId;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {string} The dialog window title.\r\n    */\r\n   get title()\r\n   {\r\n      return this.#internal.title;\r\n   }\r\n\r\n   /**\r\n    * Set the dialog window title.\r\n    *\r\n    * @param {string} title - New dialog window title.\r\n    */\r\n   set title(title)\r\n   {\r\n      this.#internal.title = title;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {import('./types').TJSDialogTransitionOptions} Transition options for the dialog.\r\n    */\r\n   get transition()\r\n   {\r\n      return this.#internal.transition;\r\n   }\r\n\r\n   /**\r\n    * Set transition options for the dialog.\r\n    *\r\n    * @param {import('./types').TJSDialogTransitionOptions} transition - New transition options for the dialog.\r\n    */\r\n   set transition(transition)\r\n   {\r\n      this.#internal.transition = transition;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * @returns {number | null} A specific z-index for the dialog. Pass null for the dialog to act like other\r\n    *          applications in regard bringing to top when activated.\r\n    */\r\n   get zIndex()\r\n   {\r\n      return this.#internal.zIndex;\r\n   }\r\n\r\n   /**\r\n    * Set specific z-index for the dialog.\r\n    *\r\n    * @param {number | null} zIndex - New z-index for the dialog.\r\n    */\r\n   set zIndex(zIndex)\r\n   {\r\n      this.#internal.zIndex = zIndex;\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * Provides a cloned copy of the dialog data.\r\n    * Note: The content attribute is not cloned as complex / props may be present.\r\n    *\r\n    * @returns {import('./types').TJSDialogOptions} A clone of the dialog data.\r\n    */\r\n   clone()\r\n   {\r\n      // Make a shallow copy of internally stored data.\r\n      const shallowCopy = { ...this.#internal };\r\n\r\n      // Remove the content parameter as it may contain complex props sent to the hosted dialog component.\r\n      delete shallowCopy.content;\r\n\r\n      // Clone the internal data and then set the content directly.\r\n      const cData = klona(shallowCopy);\r\n      cData.content = this.#internal.content;\r\n\r\n      return cData;\r\n   }\r\n\r\n   /**\r\n    * Provides a way to safely get this dialogs data given an accessor string which describes the\r\n    * entries to walk. To access deeper entries into the object format the accessor string with `.` between entries\r\n    * to walk.\r\n    *\r\n    * @param {string}   accessor - The path / key to set. You can set multiple levels.\r\n    *\r\n    * @param {any}      [defaultValue] - A default value returned if the accessor is not found.\r\n    *\r\n    * @returns {any} Value at the accessor.\r\n    */\r\n   get(accessor, defaultValue)\r\n   {\r\n      return safeAccess(this.#internal, accessor, defaultValue);\r\n   }\r\n\r\n   /**\r\n    * @param {import('./types').TJSDialogOptions} data - Merge provided data object into Dialog data.\r\n    */\r\n   merge(data)\r\n   {\r\n      deepMerge(this.#internal, data);\r\n      this.#updateComponent();\r\n   }\r\n\r\n   /**\r\n    * Sets the dialog data; this is reactive.\r\n    *\r\n    * @param {import('./types').TJSDialogOptions}   data - Dialog data.\r\n    */\r\n   replace(data)\r\n   {\r\n      if (!isObject(data)) { throw new TypeError(`TJSDialogData replace error: 'data' is not an object'.`); }\r\n\r\n      this.#internal = {};\r\n\r\n      // Merge new data and perform a reactive update.\r\n      this.merge(data);\r\n   }\r\n\r\n   /**\r\n    * Provides a way to safely set this dialogs data given an accessor string which describes the\r\n    * entries to walk. To access deeper entries into the object format the accessor string with `.` between entries\r\n    * to walk.\r\n    *\r\n    * Automatically the dialog data will be updated in the associated DialogShell Svelte component.\r\n    *\r\n    * @param {string}   accessor - The path / key to set. You can set multiple levels.\r\n    *\r\n    * @param {any}      value - Value to set.\r\n    *\r\n    * @returns {boolean} True if successful.\r\n    */\r\n   set(accessor, value)\r\n   {\r\n      const success = safeSet(this.#internal, accessor, value);\r\n\r\n      // If `this.#internal` modified then update the app options store.\r\n      if (success) { this.#updateComponent(); }\r\n\r\n      return success;\r\n   }\r\n\r\n   /**\r\n    * Updates the data in the Svelte dialog component.\r\n    */\r\n   #updateComponent()\r\n   {\r\n      const component = this.#application.svelte.component(0);\r\n      if (component?.data) { component.data = this.clone(); }\r\n   }\r\n}\r\n","import { DialogShell }        from '#svelte-fvtt/component/internal';\r\n\r\nimport { ManagedPromise }     from '#runtime/util/async';\r\n\r\nimport {\r\n   deepMerge,\r\n   isObject }                 from '#runtime/util/object';\r\n\r\nimport { TJSDialogData }      from './internal/state-dialog/index.js';\r\nimport { SvelteApplication }  from './SvelteApplication.js';\r\n\r\n/**\r\n * Provides a reactive dialog implementation configured from a unique dialog options object. The dialog features a\r\n * bottom button bar for user selection.\r\n *\r\n * A glasspane / modal option with various styling and transition capabilities is available when setting `modal: true`.\r\n *\r\n * Most importantly the `content` attribute of dialog data can be a Svelte component configuration object to render\r\n * your custom component as the dialog content. When using a Svelte component as the content you can assign a string\r\n * to the various `on<XXX>` dialog callbacks and an exported function from your component will be invoked to handle the\r\n * button callback. All dialog button callbacks and `onClose` callback receive a single argument which is the dialog /\r\n * application instance.\r\n *\r\n * When making a form with form validation or other dialog that you don't want to close immediately on button press you\r\n * can set `autoClose: false`, however you are 100% in control of resolving any Promise callbacks from button presses\r\n * and also closing the application. Each button can also be configured with `autoClose: false` in the button data.\r\n *\r\n * There is a handy Promise management capability to track a single Promise for the lifetime of a dialog available\r\n * at {@link TJSDialog.managedPromise}. By default when the user closes the dialog / application any managed Promise is\r\n * resolved with `null`. The managed Promise is available in any Svelte content component by using\r\n * `const managedPromise = getContext('#managedPromise')`. When handling any custom resolution particularly when\r\n * setting `autoClose: false` for a given button you are 100% in control of resolving or rejecting asynchronous data to\r\n * return from the dialog.\r\n *\r\n * To create and wait upon a managed promise for asynchronous return results use the static or member variation of\r\n * {@link TJSDialog.wait}.\r\n *\r\n * Please refer to {@link TJSDialogOptions} for the various options used to construct the dialog.\r\n *\r\n * There are a couple of static helper methods to quickly create standard dialogs such as a 'yes' / 'no' confirmation\r\n * dialog with {@link TJSDialog.confirm} and an 'ok' single button dialog with {@link TJSDialog.prompt}.\r\n *\r\n * @template [Options = import('./types').SvelteApp.Options]\r\n * @augments {SvelteApplication<Options>}\r\n */\r\nexport class TJSDialog extends SvelteApplication\r\n{\r\n   /** @type {TJSDialogData} */\r\n   #data;\r\n\r\n   /** @type {ManagedPromise} */\r\n   #managedPromise;\r\n\r\n   /**\r\n    * @param {import('./internal/state-dialog/types').TJSDialogOptions} data - Dialog options.\r\n    *\r\n    * @param {Options}   [options] - SvelteApplication options.\r\n    */\r\n   constructor(data, options = {})\r\n   {\r\n      // Note: explicit setting of `popOutModuleDisable` to prevent the PopOut! module from acting on modal dialogs.\r\n      // @ts-expect-error\r\n      super({ popOutModuleDisable: data?.modal ?? false, ...options });\r\n\r\n      this.#managedPromise = new ManagedPromise();\r\n\r\n      this.#data = new TJSDialogData(this);\r\n      this.#data.replace(data);\r\n\r\n      /**\r\n       * @member {object} dialogComponent - A getter to SvelteData to retrieve any mounted Svelte component as the\r\n       *                                    dialog content.\r\n       *\r\n       * @memberof GetSvelteData#\r\n       * @readonly\r\n       */\r\n      Object.defineProperty(this.svelte, 'dialogComponent', {\r\n         get: () => this.svelte?.applicationShell?.dialogComponent,\r\n      });\r\n   }\r\n\r\n   /**\r\n    * Default options for TJSDialog. Provides a default width and setting `height` to `auto` to always display dialog\r\n    * content even if it changes. The default `DialogShell` / `svelte` options should not be changed and instead mount\r\n    * the dialog content component by supplying a Svelte configuration object to dialog data `content` field.\r\n    *\r\n    * @returns {import('./types').SvelteApp.Options} Default options\r\n    */\r\n   static get defaultOptions()\r\n   {\r\n      return deepMerge(super.defaultOptions, {\r\n         classes: ['dialog', 'tjs-dialog'],\r\n         width: 400,\r\n         height: 'auto',\r\n         svelte: {\r\n            class: DialogShell,\r\n            intro: true,\r\n            target: document.body,\r\n            /**\r\n             * `this` is the TJSDialog instance when invoked.\r\n             *\r\n             * @this {TJSDialog}\r\n             *\r\n             * @returns {{data: import('./types').TJSDialogOptions, managedPromise: ManagedPromise}} Props\r\n             */\r\n            props: function()\r\n            {\r\n               return {\r\n                  data: this.#data.clone(),\r\n                  managedPromise: this.#managedPromise\r\n               };\r\n            }\r\n         }\r\n      });\r\n   }\r\n\r\n   /**\r\n    * Returns the dialog data.\r\n    *\r\n    * @returns {import('./internal/state-dialog/types').TJSDialogData} Dialog data.\r\n    */\r\n   get data() { return this.#data; }\r\n\r\n   /**\r\n    * @returns {import('#runtime/util/async').ManagedPromise} Returns the managed promise.\r\n    */\r\n   get managedPromise() { return this.#managedPromise; }\r\n\r\n   /**\r\n    * Close the dialog and un-register references to it within UI mappings.\r\n    * This function returns a Promise which resolves once the window closing animation concludes.\r\n    *\r\n    * @param {object}   [options] - Optional parameters.\r\n    *\r\n    * @param {boolean}  [options.force] - Force close regardless of render state.\r\n    *\r\n    * @returns {Promise<void>} A Promise which resolves once the application is closed with the callback value or\r\n    *                          `true`.\r\n    */\r\n   async close(options)\r\n   {\r\n      try\r\n      {\r\n         // Note: When handling a managed promise if a button selection has already been made the managed promise is\r\n         // already processing and the resolution below is skipped.\r\n         if (this.#managedPromise.isActive && !this.#managedPromise.isProcessing)\r\n         {\r\n            const result = TJSDialog.#invokeFn(this.#data.onClose, this, null);\r\n            const rejectClose = typeof this.#data.rejectClose === 'boolean' ? this.#data.rejectClose : false;\r\n\r\n            if (rejectClose && result === null)\r\n            {\r\n               this.#managedPromise.reject(new Error('TJSDialog was closed without a choice being made.'));\r\n            }\r\n            else\r\n            {\r\n               this.#managedPromise.resolve(result);\r\n            }\r\n         }\r\n      }\r\n      catch (err)\r\n      {\r\n         const notifyError = typeof this.#data.notifyError === 'boolean' ? this.#data.notifyError : true;\r\n         if (notifyError)\r\n         {\r\n            // TODO: When app eventbus is available send event for UI notification instead of Foundry API usage.\r\n            globalThis.ui.notifications.error(err, { console: false });\r\n         }\r\n\r\n         // If there is a managed Promise reject it or re-throw error.\r\n         if (!this.#managedPromise.reject(err)) { throw err; }\r\n      }\r\n      finally\r\n      {\r\n         await super.close(options);\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Brings to top or renders this dialog returning a Promise that is resolved any button pressed or when the dialog\r\n    * is closed.\r\n    *\r\n    * Creates an anonymous data defined TJSDialog returning a Promise that can be awaited upon for the user to make a\r\n    * choice.\r\n    *\r\n    * Note: `null` is returned if the dialog is closed without a user making a choice.\r\n    *\r\n    * @template T\r\n    *\r\n    * @param {object}   [options] - Options.\r\n    *\r\n    * @param {boolean}  [options.reuse=false] - When true if there is an existing managed Promise this allows multiple\r\n    *        sources to await on the same result.\r\n    *\r\n    * @returns {Promise<T>} A promise for dialog resolution.\r\n    */\r\n   async wait(options)\r\n   {\r\n      // TODO: Direct usage of Foundry core Application API.\r\n      if (this.rendered)\r\n      {\r\n         this.bringToTop();\r\n      }\r\n      else\r\n      {\r\n         this.render(true, { focus: true });\r\n      }\r\n\r\n      // Return a managed Promise which is automatically resolved on button press via `DialogContent` component or when\r\n      // the dialog is closed.\r\n      return this.#managedPromise.create(options);\r\n   }\r\n\r\n   // ---------------------------------------------------------------------------------------------------------------\r\n\r\n   /**\r\n    * A helper factory method to create simple confirmation dialog windows which consist of simple yes / no prompts.\r\n    * If you require more flexibility, a custom TJSDialog instance is preferred. The default focused button is 'yes'.\r\n    * You can change the default focused button by setting `default` to `yes` or `no`.\r\n    *\r\n    * @template T\r\n    *\r\n    * @param {import('./internal/state-dialog/types').TJSDialogOptions & {\r\n    *    onYes?: string | ((data?: { application?: TJSDialog }) => any),\r\n    *    onNo?: string | ((data?: { application?: TJSDialog }) => any)\r\n    * }} [data] - Confirm dialog options.\r\n    *\r\n    * @param {string|((data?: { application?: TJSDialog }) => any)} [data.onYes] - Callback function upon `yes`; may be\r\n    *        an async function. When defined as a string any matching function by name exported from content Svelte\r\n    *        component is invoked.\r\n    *\r\n    * @param {string|((data?: { application?: TJSDialog }) => any)} [data.onNo] - Callback function upon `no`; may be an\r\n    *        async function. When defined as a string any matching function by name exported from content Svelte\r\n    *        component is invoked.\r\n    *\r\n    * @param {import('./types').SvelteApp.Options}  [options]  SvelteApplication options passed to the TJSDialog\r\n    *        constructor.\r\n    *\r\n    * @returns {Promise<T>} A promise which resolves with result of yes / no callbacks or true / false.\r\n    *\r\n    * @example\r\n    * const result = await TJSDialog.confirm({\r\n    *  title: 'A Yes or No Question',\r\n    *  content: '<p>Choose wisely.</p>',\r\n    *  onYes: () => 'YES Result',\r\n    *  onNo: () => 'NO Result'\r\n    * });\r\n    *\r\n    * // Logs 'YES result', 'NO Result', or null if the user closed the dialog without making a selection.\r\n    * console.log(result);\r\n    */\r\n   static async confirm({ onYes, onNo, ...data } = {}, options = {})\r\n   {\r\n      // Allow overwriting of default icon and labels.\r\n      const mergedButtons = deepMerge({\r\n         yes: {\r\n            icon: 'fas fa-check',\r\n            label: 'Yes'\r\n         },\r\n         no: {\r\n            icon: 'fas fa-times',\r\n            label: 'No',\r\n         }\r\n      }, data.buttons ?? {});\r\n\r\n      return this.wait({\r\n         ...data,\r\n         buttons: deepMerge(mergedButtons, {\r\n            yes: {\r\n               onPress: ({ application }) => this.#invokeFn(onYes, application, true)\r\n            },\r\n            no: {\r\n               onPress: ({ application }) => this.#invokeFn(onNo, application, false)\r\n            }\r\n         }),\r\n         default: data.default ?? 'yes'\r\n      }, options);\r\n   }\r\n\r\n   /**\r\n    * A helper method to invoke a callback function directly or lookup an exported function with the same name from any\r\n    * content Svelte component to invoke. This is used internally to apply default values for `confirm` and `prompt`.\r\n    *\r\n    * @param {string|((data?: { application?: TJSDialog }) => any)} callback - Callback function to invoke; may be an\r\n    *        async function. When defined as a string any matching function by name exported from content Svelte\r\n    *        component is invoked.\r\n    *\r\n    * @param {TJSDialog} application - TJSDialog instance passed to callback.\r\n    *\r\n    * @param {*} [defaultResult] - An optional default result to return; undefined if not specified.\r\n    *\r\n    * @returns {*} Result.\r\n    *\r\n    * @internal\r\n    */\r\n   static #invokeFn(callback, application, defaultResult = void 0)\r\n   {\r\n      let result = defaultResult;\r\n\r\n      switch (typeof callback)\r\n      {\r\n         case 'function':\r\n            // Pass the dialog instance to the callback.\r\n            result = callback({ application });\r\n            break;\r\n\r\n         case 'string':\r\n         {\r\n            const dialogComponent = application?.svelte?.dialogComponent;\r\n\r\n            // Attempt lookup by function name in dialog instance component.\r\n            if (dialogComponent !== void 0 && typeof dialogComponent?.[callback] === 'function')\r\n            {\r\n               result = dialogComponent?.[callback]({ application });\r\n            }\r\n            else\r\n            {\r\n               if (dialogComponent === void 0)\r\n               {\r\n                  console.warn(`[TRL] TJSDialog warning: 'onPress' defined as a string with no ` +\r\n                   `associated content Svelte component.`);\r\n               }\r\n               else if (typeof dialogComponent?.[callback] !== 'function')\r\n               {\r\n                  console.warn(`[TRL] TJSDialog warning: The content Svelte component does not contain ` +\r\n                   `an associated function '${callback}'. Did you remember to add ` +\r\n                   `'<svelte:options accessors={true} />' and export the function?`);\r\n               }\r\n            }\r\n            break;\r\n         }\r\n      }\r\n\r\n      return result;\r\n   }\r\n\r\n   /**\r\n    * A helper factory method to display a basic \"prompt\" style TJSDialog with a single button.\r\n    *\r\n    * @template T\r\n    *\r\n    * @param {import('./internal/state-dialog/types').TJSDialogOptions & {\r\n    *    onOk?: string | ((data?: { application?: TJSDialog }) => any),\r\n    *    label?: string,\r\n    *    icon?: string\r\n    * }} [data] - Prompt dialog options that includes any TJSDialog options along with the following optional fields:\r\n    *\r\n    * @param {string|((data?: { application?: TJSDialog }) => any)} [data.onOk] - Callback function upon `ok`; may be\r\n    *        an async function. When defined as a string any matching function by name exported from content Svelte\r\n    *        component is invoked.\r\n    *\r\n    * @param {string}   [data.label] - The OK prompt button text.\r\n    *\r\n    * @param {string}   [data.icon=\"fas fa-check\"] - Set another icon besides `fas fa-check` for button.\r\n    *\r\n    * @param {import('./types').SvelteApp.Options}  [options]  SvelteApplication options passed to the TJSDialog\r\n    *        constructor.\r\n    *\r\n    * @returns {Promise<T>} The returned value from the provided callback function or `true` if the button\r\n    *          is pressed.\r\n    *\r\n    * @example\r\n    * const result = await TJSDialog.prompt({\r\n    *  title: 'Are you OK?',\r\n    *  content: '<p>Are you OK?.</p>',\r\n    *  label: 'Feeling Fine!',\r\n    *  onOk: () => 'OK'\r\n    * });\r\n    *\r\n    * // Logs 'OK' or null if the user closed the dialog without making a selection.\r\n    * console.log(result);\r\n    */\r\n   static async prompt({ onOk, label, icon = 'fas fa-check', ...data } = {}, options = {})\r\n   {\r\n      return this.wait({\r\n         ...data,\r\n         buttons: {\r\n            ok: {\r\n               icon,\r\n               label,\r\n               onPress: ({ application }) => this.#invokeFn(onOk, application, true)\r\n            }\r\n         },\r\n         default: 'ok'\r\n      }, options);\r\n   }\r\n\r\n   /**\r\n    * Creates an anonymous data defined TJSDialog returning a Promise that can be awaited upon for the user to make a\r\n    * choice.\r\n    *\r\n    * Note: By default `null` is returned if the dialog is closed without a user making a choice.\r\n    *\r\n    * @template T\r\n    *\r\n    * @param {import('./internal/state-dialog/types').TJSDialogOptions}  data - Dialog data passed to the TJSDialog\r\n    *        constructor.\r\n    *\r\n    * @param {import('./types').SvelteApp.Options}  [options]  SvelteApplication options passed to the TJSDialog\r\n    *        constructor.\r\n    *\r\n    * @returns {Promise<T>} A Promise that resolves to the chosen result.\r\n    */\r\n   static async wait(data, options = {})\r\n   {\r\n      if (!isObject(data)) { throw new TypeError(`TJSDialog.wait error: 'data' is not an object'.`); }\r\n\r\n      // Instantiate and render the dialog.\r\n      return new this({ ...data }, options).wait();\r\n   }\r\n}\r\n","import {\r\n   FoundryHMRSupport,\r\n   PopoutSupport }   from './external/index.js';\r\n\r\nexport * from './SvelteApplication.js';\r\nexport * from './TJSDialog.js';\r\n\r\n// Handle `hotReload` Foundry hook when running the Vite dev server.\r\nif (import.meta.hot) { FoundryHMRSupport.initialize(); }\r\n\r\n// Handle `PopOut!` module hooks to allow applications to popout to their own browser window.\r\nPopoutSupport.initialize();\r\n"],"names":[],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA,GAAG,eAAe,CAAC,SAAS;AAC5B,GAAG;AACH,MAAM,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,WAAW;AACzC,MAAM;AACN,SAAS,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAE,EAAE,OAAO,IAAI,CAAC,EAAE;AAC3D,OAAO;AACP;AACA,MAAM,OAAO,KAAK,CAAC,CAAC;AACpB,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,WAAW;AACd,GAAG;AACH,MAAM,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;AACxC,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,UAAU;AACb,GAAG;AACH,MAAM,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;AACvC,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,IAAI,MAAM;AACb,GAAG;AACH,MAAM,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;AACrC,IAAI;AACJ;;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,cAAc;AAC3B;AACA;AACA;AACA;AACA,GAAG,YAAY,CAAC;AAChB;AACA;AACA;AACA;AACA,GAAG,YAAY,GAAG,KAAK,CAAC;AACxB;AACA;AACA,GAAG,eAAe,CAAC;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,gBAAgB,CAAC;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,sBAAsB,CAAC;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY,CAAC;AAChB;AACA;AACA;AACA;AACA;AACA;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AAC,CAAC,CAAC,CAAC;AACzH,8BAA8B,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AACnD,4BAA4B;AAC5B,yBAAyB;AACzB,sBAAsB;AACtB,mBAAmB;AACnB,gBAAgB,EAAE,CAAC,CAAC,CAAC;AACrB,aAAa;AACb;AACA,YAAY,OAAO,IAAI,CAAC;AACxB,UAAU,CAAC,CAAC;AACZ,OAAO;AACP,IAAI;AACJ;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,iBAAiB,SAAS,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,uBAAuB,GAAG,CAAC,IAAI,CAAC,CAAC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,iBAAiB,CAAC;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,cAAc,GAAG,IAAI,CAAC;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,eAAe,GAAG,IAAI,CAAC;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,gBAAgB,GAAG,KAAK,CAAC;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,cAAc,GAAG,EAAE,CAAC;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,QAAQ,GAAG,KAAK,CAAC;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,SAAS,CAAC;AACb;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,SAAS,CAAC;AACb;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,WAAW,GAAG,EAAE,CAAC;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,cAAc,GAAG,IAAI,aAAa,CAAC,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;AACtF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,OAAO,CAAC;AACX;AACA;AACA;AACA;AACA,GAAG,WAAW,CAAC,OAAO,GAAG,EAAE;AAC3B,GAAG;AACH,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC;AACrB;AACA,MA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"}